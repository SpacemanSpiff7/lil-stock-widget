{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import'./App.css';import{DataFetcher}from'./DataFetch';import{TechnicalAnalysis}from'./TechnicalAnalysis';import{VolatilityChart,MonteCarloPathsChart,DistributionChart}from'./Charts';import{EducationalMetrics}from'./EnhancedCharts';import{StunningHistoricalChart,StunningRecommendationsChart}from'./StunningCharts';import{ImprovedTechnicalChart}from'./ImprovedCharts';import{InfoIcon}from'./components/Tooltip';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _stockData$fundamenta,_stockData$fundamenta2,_stockData$fundamenta3,_stockData$fundamenta4,_stockData$fundamenta5;const[stockData,setStockData]=useState(null);const[analyticsResult,setAnalyticsResult]=useState(null);const[technicalIndicators,setTechnicalIndicators]=useState(null);const[recommendations,setRecommendations]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[ticker,setTicker]=useState('AAPL');const[activeTab,setActiveTab]=useState('historical');const[settingsOpen,setSettingsOpen]=useState(false);const[isAnalyzing,setIsAnalyzing]=useState(false);const[selectedTimeline,setSelectedTimeline]=useState('1y');const[apiWarning,setApiWarning]=useState(null);const[showIndicators,setShowIndicators]=useState({rsi:false,macd:false,bollingerBands:true,movingAverages:true,volume:false});const[simulationParams,setSimulationParams]=useState({alpha:0.1,beta:0.8,theta:0.05,switchProb:0.05,numPaths:1000,numSteps:252});const workerRef=useRef(null);const dataFetcherRef=useRef(new DataFetcher());// Fetch stock data\nconst fetchData=useCallback(async function(symbol){let timeline=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'1y';if(!dataFetcherRef.current.hasApiKey()){setError('Please set up your API key in Settings to fetch stock data');return;}setLoading(true);setError(null);setApiWarning(null);try{const data=await dataFetcherRef.current.fetchStockData(symbol,timeline);setStockData(data);// Check for API limitations\nif(data.prices.length<10){setApiWarning('Limited data available. Consider upgrading to a paid API tier for more historical data.');}}catch(err){const errorMessage=err instanceof Error?err.message:'Failed to fetch data';setError(errorMessage);// Check for specific API errors\nif(errorMessage.includes('rate limit')||errorMessage.includes('quota')){setApiWarning('API rate limit reached. Consider upgrading to a paid tier for higher limits.');}else if(errorMessage.includes('subscription')){setApiWarning('This data requires a paid subscription. Please upgrade your API plan.');}}finally{setLoading(false);}},[]);// Calculate technical indicators\nconst calculateTechnicalAnalysis=useCallback(()=>{if(!stockData)return;try{const indicators=TechnicalAnalysis.calculateAllIndicators(stockData.prices);setTechnicalIndicators(indicators);// Calculate recommendations\nconst recommendations=TechnicalAnalysis.generateRecommendations(stockData.prices,indicators,stockData.fundamentals,stockData.currentPrice);setRecommendations(recommendations);}catch(error){console.error('Error calculating technical analysis:',error);setError('Failed to calculate technical indicators');}},[stockData]);// Calculate technical analysis when stock data changes\nuseEffect(()=>{if(stockData){calculateTechnicalAnalysis();}},[stockData,calculateTechnicalAnalysis]);// Run Monte Carlo simulation\nconst runSimulation=useCallback(async()=>{if(!stockData)return;setLoading(true);setError(null);try{// Calculate technical indicators first\ncalculateTechnicalAnalysis();// Create Web Worker for Monte Carlo simulation\nconst workerCode=`\n        // Simple Monte Carlo simulation for Web Worker\n        function randomNormal() {\n          const u = Math.random();\n          const v = Math.random();\n          return Math.sqrt(-2 * Math.log(u)) * Math.cos(2 * Math.PI * v);\n        }\n\n        function calculateReturns(prices) {\n          if (prices.length < 2) throw new Error('Need at least 2 price points');\n          const returns = [];\n          for (let i = 1; i < prices.length; i++) {\n            if (prices[i - 1].close <= 0) throw new Error('Invalid price data');\n            returns.push(Math.log(prices[i].close / prices[i - 1].close));\n          }\n          return returns;\n        }\n\n        function calculateGARCHVolatility(returns, alpha, beta) {\n          if (returns.length === 0) throw new Error('No returns data');\n          if (alpha < 0 || beta < 0 || alpha + beta >= 1) throw new Error('Invalid GARCH parameters');\n          \n          const n = returns.length;\n          const volatilities = [];\n          const meanReturn = returns.reduce((sum, r) => sum + r, 0) / n;\n          const sampleVar = returns.reduce((sum, r) => sum + Math.pow(r - meanReturn, 2), 0) / (n - 1);\n          const omega = Math.max(sampleVar, 1e-8) * (1 - alpha - beta);\n          \n          volatilities[0] = Math.sqrt(Math.max(sampleVar, 1e-8));\n          for (let t = 1; t < n; t++) {\n            const variance = omega + alpha * Math.pow(returns[t - 1], 2) + beta * Math.pow(volatilities[t - 1], 2);\n            volatilities[t] = Math.sqrt(Math.max(Math.min(variance, 1e4), 1e-8));\n          }\n          return volatilities;\n        }\n\n        function calculateTrendAndDrift(prices, theta) {\n          if (prices.length < 2) throw new Error('Need at least 2 price points');\n          if (theta < 0 || theta > 1) throw new Error('Theta must be between 0 and 1');\n          \n          const n = prices.length;\n          const logPrices = prices.map(p => Math.log(p.close));\n          const xMean = (n - 1) / 2;\n          const yMean = logPrices.reduce((sum, y) => sum + y, 0) / n;\n          \n          let numerator = 0, denominator = 0;\n          for (let i = 0; i < n; i++) {\n            const x = i, y = logPrices[i];\n            numerator += (x - xMean) * (y - yMean);\n            denominator += Math.pow(x - xMean, 2);\n          }\n          \n          if (Math.abs(denominator) < 1e-10) {\n            return { trend: prices[n - 1].close, drift: 0 };\n          }\n          \n          const slope = numerator / denominator;\n          const trend = Math.exp(slope * n);\n          const currentPrice = prices[n - 1].close;\n          const drift = theta * (trend - currentPrice) / currentPrice;\n          return { trend, drift };\n        }\n\n        function runMonteCarloSimulation(initialPrice, params, initialVolatility, drift) {\n          if (initialPrice <= 0) throw new Error('Initial price must be positive');\n          if (initialVolatility <= 0) throw new Error('Initial volatility must be positive');\n          \n          const { numPaths, numSteps, alpha, beta } = params;\n          const paths = [];\n          const dt = 1 / 252;\n          const omega = initialVolatility * initialVolatility * (1 - alpha - beta);\n          \n          for (let path = 0; path < numPaths; path++) {\n            const pathPrices = [initialPrice];\n            let currentPrice = initialPrice;\n            let currentVolatility = initialVolatility;\n            \n            for (let step = 0; step < numSteps; step++) {\n              const z = randomNormal();\n              const ret = drift * dt - 0.5 * currentVolatility * currentVolatility * dt + \n                         currentVolatility * Math.sqrt(dt) * z;\n              \n              currentPrice = currentPrice * Math.exp(ret);\n              if (currentPrice < 0.01) currentPrice = 0.01;\n              pathPrices.push(currentPrice);\n              \n              const variance = omega + alpha * Math.pow(ret, 2) + beta * Math.pow(currentVolatility, 2);\n              currentVolatility = Math.sqrt(Math.max(Math.min(variance, 1e4), 1e-8));\n            }\n            paths.push(pathPrices);\n          }\n          \n          // Calculate statistics\n          const finalPrices = paths.map(path => path[path.length - 1]);\n          const sortedPrices = finalPrices.slice().sort((a, b) => a - b);\n          \n          const upside20Count = finalPrices.filter(price => price >= initialPrice * 1.2).length;\n          const downside10Count = finalPrices.filter(price => price <= initialPrice * 0.9).length;\n          \n          const var95Index = Math.floor(0.05 * numPaths);\n          const var99Index = Math.floor(0.01 * numPaths);\n          \n          const histogram = [];\n          const minPrice = sortedPrices[0];\n          const maxPrice = sortedPrices[sortedPrices.length - 1];\n          const binSize = (maxPrice - minPrice) / 50;\n          \n          for (let i = 0; i < 50; i++) {\n            histogram.push({ bin: minPrice + i * binSize, count: 0 });\n          }\n          \n          finalPrices.forEach(price => {\n            const binIndex = Math.min(Math.floor((price - minPrice) / binSize), 49);\n            histogram[binIndex].count++;\n          });\n          \n          const percentiles = {};\n          [5, 10, 25, 50, 75, 90, 95].forEach(p => {\n            const index = Math.floor((p / 100) * (numPaths - 1));\n            percentiles['p' + p] = sortedPrices[index];\n          });\n          \n          return {\n            paths,\n            probabilities: {\n              upside20: upside20Count / numPaths,\n              downside10: downside10Count / numPaths\n            },\n            histogram,\n            percentiles,\n            var95: initialPrice - sortedPrices[var95Index],\n            var99: initialPrice - sortedPrices[var99Index],\n            expectedShortfall95: initialPrice - sortedPrices.slice(0, var95Index + 1).reduce((sum, price) => sum + price, 0) / (var95Index + 1),\n            expectedShortfall99: initialPrice - sortedPrices.slice(0, var99Index + 1).reduce((sum, price) => sum + price, 0) / (var99Index + 1),\n            currentVolatility: 0,\n            trend: 0,\n            drift: 0\n          };\n        }\n\n        self.onmessage = function(e) {\n          try {\n            const returns = calculateReturns(e.data.stockData.prices);\n            const volatilities = calculateGARCHVolatility(returns, e.data.params.alpha, e.data.params.beta);\n            const trendDrift = calculateTrendAndDrift(e.data.stockData.prices, e.data.params.theta);\n            \n            const result = runMonteCarloSimulation(\n              e.data.stockData.currentPrice,\n              e.data.params,\n              volatilities[volatilities.length - 1],\n              trendDrift.drift\n            );\n            \n            result.currentVolatility = volatilities[volatilities.length - 1];\n            result.trend = trendDrift.trend;\n            result.drift = trendDrift.drift;\n            \n            self.postMessage({ success: true, result });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      `;const blob=new Blob([workerCode],{type:'application/javascript'});workerRef.current=new Worker(URL.createObjectURL(blob));workerRef.current.onmessage=e=>{if(e.data.success){setAnalyticsResult(e.data.result);}else{setError(e.data.error);}setLoading(false);};workerRef.current.onerror=e=>{setError('Simulation failed: '+e.message);setLoading(false);};workerRef.current.postMessage({stockData,params:simulationParams});}catch(err){setError(err instanceof Error?err.message:'Simulation failed');setLoading(false);}},[stockData,simulationParams,calculateTechnicalAnalysis]);// Cleanup worker on unmount\nuseEffect(()=>{return()=>{if(workerRef.current){workerRef.current.terminate();}};},[]);// Run simulation when stock data changes\nuseEffect(()=>{if(stockData){runSimulation();}},[stockData,runSimulation]);const handleTickerChange=e=>{setTicker(e.target.value.toUpperCase());};const handleTickerSubmit=e=>{e.preventDefault();if(ticker.trim()){setIsAnalyzing(true);setApiWarning(null);fetchData(ticker,selectedTimeline);}};const handleTimelineChange=timeline=>{setSelectedTimeline(timeline);if(stockData){fetchData(ticker,timeline);}};const updateSimulationParam=(param,value)=>{setSimulationParams(prev=>({...prev,[param]:value}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-brand\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-logo\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"Finance Analytics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-controls\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTickerSubmit,className:\"search-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ticker,onChange:handleTickerChange,placeholder:\"Enter ticker...\",className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"search-button\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing...\"})]}):'Analyze'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSettingsOpen(true),className:\"settings-button\",children:/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"})]})})]})]})})}),/*#__PURE__*/_jsx(\"main\",{className:`main ${isAnalyzing?'analyzing':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-3 h-3 text-white\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"error-text\",children:error})]}),!stockData&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-icon\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-10 h-10\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"welcome-title\",children:\"Financial Analytics Widget\"}),/*#__PURE__*/_jsx(\"p\",{className:\"welcome-description\",children:\"Enter a stock ticker symbol to begin your comprehensive financial analysis with advanced Monte Carlo simulations and risk metrics.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTickerSubmit,className:\"centered-search-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ticker,onChange:handleTickerChange,placeholder:\"Enter ticker symbol (e.g., AAPL, MSFT, TSLA)...\",className:\"centered-search-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"centered-search-button\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing...\"})]}):'Analyze Stock'})]})]}),stockData&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"stock-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stock-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stock-price\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stock-ticker\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"ticker-symbol\",children:stockData.ticker}),/*#__PURE__*/_jsx(\"div\",{className:\"status-badge\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"current-price\",children:[\"$\",stockData.currentPrice.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"price-label\",children:\"Current Price\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"metrics-title\",children:[\"Valuation Metrics\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Key financial ratios that help determine if a stock is overvalued or undervalued relative to its earnings, assets, and growth potential.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"P/E Ratio\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:((_stockData$fundamenta=stockData.fundamentals.pe)===null||_stockData$fundamenta===void 0?void 0:_stockData$fundamenta.toFixed(2))||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Market Cap\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"metric-value\",children:[\"$\",(stockData.fundamentals.marketCap?stockData.fundamentals.marketCap/1e9:0).toFixed(2),\"B\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"Dividend Yield\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"metric-value\",children:[((_stockData$fundamenta2=stockData.fundamentals.dividendYield)===null||_stockData$fundamenta2===void 0?void 0:_stockData$fundamenta2.toFixed(2))||'N/A',\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"metrics-title\",children:[\"Additional Metrics\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Additional financial indicators including price-to-book ratio, PEG ratio for growth valuation, and earnings per share.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metrics-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"P/B Ratio\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:((_stockData$fundamenta3=stockData.fundamentals.pb)===null||_stockData$fundamenta3===void 0?void 0:_stockData$fundamenta3.toFixed(2))||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"PEG Ratio\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:((_stockData$fundamenta4=stockData.fundamentals.peg)===null||_stockData$fundamenta4===void 0?void 0:_stockData$fundamenta4.toFixed(2))||'N/A'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-label\",children:\"EPS\"}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-value\",children:((_stockData$fundamenta5=stockData.fundamentals.eps)===null||_stockData$fundamenta5===void 0?void 0:_stockData$fundamenta5.toFixed(2))||'N/A'})]})]})]})]})}),/*#__PURE__*/_jsx(\"nav\",{className:\"tab-navigation\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tab-list\",children:[{id:'historical',label:'Historical Data',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})},{id:'technical',label:'Technical Indicators',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})},{id:'recommendations',label:'Buy/Sell Signals',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"})})},{id:'education',label:'Learn & Explain',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"})})},{id:'volatility',label:'Volatility Analysis',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})})},{id:'monte-carlo',label:'Monte Carlo Simulation',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\"})})},{id:'distribution',label:'Price Distribution',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})},{id:'metrics',label:'Risk Metrics',icon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),className:`tab-button ${activeTab===tab.id?'active':''}`,children:[tab.icon,/*#__PURE__*/_jsx(\"span\",{children:tab.label})]},tab.id))})}),analyticsResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"timeline-controls\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"controls-title\",children:[\"Time Period\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Select the time period for historical data analysis. Longer periods provide more context but may have API limitations.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline-grid\",children:[{value:'1d',label:'1 Day'},{value:'1w',label:'1 Week'},{value:'1m',label:'1 Month'},{value:'6m',label:'6 Months'},{value:'1y',label:'1 Year'},{value:'2y',label:'2 Years'},{value:'5y',label:'5 Years'},{value:'max',label:'Max'}].map(period=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTimelineChange(period.value),className:`timeline-button ${selectedTimeline===period.value?'active':''}`,children:period.label},period.value))})]}),apiWarning&&/*#__PURE__*/_jsxs(\"div\",{className:\"api-warning\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"warning-icon\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"warning-text\",children:apiWarning})]}),activeTab==='historical'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-controls\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"controls-title\",children:[\"Chart Overlays\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Toggle different technical indicators on the price chart to analyze trends, momentum, and volatility patterns.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"controls-grid\",children:Object.entries(showIndicators).map(_ref=>{let[key,value]=_ref;const indicatorNames={rsi:'RSI',macd:'MACD',bollingerBands:'Bollinger Bands',movingAverages:'Moving Averages',volume:'Volume'};return/*#__PURE__*/_jsxs(\"label\",{className:\"custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:value,onChange:e=>setShowIndicators(prev=>({...prev,[key]:e.target.checked}))}),/*#__PURE__*/_jsx(\"span\",{children:indicatorNames[key]||key})]},key);})})]}),/*#__PURE__*/_jsx(StunningHistoricalChart,{prices:stockData.prices,indicators:technicalIndicators||{rsi:[],macd:{macd:[],signal:[],histogram:[]},bollingerBands:{upper:[],middle:[],lower:[]},movingAverages:{sma20:[],sma50:[],ema12:[],ema26:[]},volume:{volumeSMA:[],volumeRatio:[]},supportResistance:{support:[],resistance:[]}},trend:analyticsResult.trend,showIndicators:showIndicators})]}),activeTab==='technical'&&technicalIndicators&&/*#__PURE__*/_jsx(ImprovedTechnicalChart,{prices:stockData.prices,indicators:technicalIndicators}),activeTab==='recommendations'&&recommendations&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-2xl border border-blue-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-slate-900\",children:\"Overall Recommendation\"}),/*#__PURE__*/_jsx(\"div\",{className:`px-6 py-3 rounded-full text-white font-bold text-lg ${recommendations.overall.action==='BUY'?'bg-green-500':recommendations.overall.action==='SELL'?'bg-red-500':'bg-yellow-500'}`,children:recommendations.overall.action})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-slate-900\",children:[recommendations.overall.confidence,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-600\",children:\"Confidence\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-slate-900 capitalize\",children:recommendations.overall.riskLevel}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-600\",children:\"Risk Level\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold text-slate-900 capitalize\",children:recommendations.overall.timeHorizon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-600\",children:\"Time Horizon\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-700 mb-4\",children:recommendations.summary}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl border border-green-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-green-600 font-medium\",children:\"Conservative Target\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-green-700\",children:[\"$\",recommendations.overall.priceTargets.conservative.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl border border-blue-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-blue-600 font-medium\",children:\"Moderate Target\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-blue-700\",children:[\"$\",recommendations.overall.priceTargets.moderate.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-xl border border-purple-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-purple-600 font-medium\",children:\"Aggressive Target\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xl font-bold text-purple-700\",children:[\"$\",recommendations.overall.priceTargets.aggressive.toFixed(2)]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[{title:'Technical Analysis',rec:recommendations.technical,color:'blue'},{title:'Fundamental Analysis',rec:recommendations.fundamental,color:'green'},{title:'Risk Assessment',rec:recommendations.risk,color:'orange'}].map(_ref2=>{let{title,rec,color}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:`bg-${color}-50 p-6 rounded-2xl border border-${color}-200`,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-slate-900 mb-3\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-2 rounded-full text-white font-semibold ${rec.action==='BUY'?'bg-green-500':rec.action==='SELL'?'bg-red-500':'bg-yellow-500'}`,children:rec.action}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-slate-900\",children:[rec.confidence,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-slate-600\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Risk:\"}),\" \",rec.riskLevel]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Horizon:\"}),\" \",rec.timeHorizon]})]})]},title);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-6 rounded-2xl border border-green-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-green-800 mb-3\",children:[\"Bullish Signals (\",recommendations.signals.bullish.length,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 text-sm text-green-700\",children:recommendations.signals.bullish.map((signal,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-500 mr-2\",children:\"\\u2713\"}),signal]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 p-6 rounded-2xl border border-red-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-red-800 mb-3\",children:[\"Bearish Signals (\",recommendations.signals.bearish.length,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 text-sm text-red-700\",children:recommendations.signals.bearish.map((signal,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 mr-2\",children:\"\\u2717\"}),signal]},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-50 p-6 rounded-2xl border border-slate-200\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-lg font-semibold text-slate-800 mb-3\",children:[\"Neutral Signals (\",recommendations.signals.neutral.length,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 text-sm text-slate-700\",children:recommendations.signals.neutral.map((signal,i)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-500 mr-2\",children:\"\\u25CB\"}),signal]},i))})]})]}),/*#__PURE__*/_jsx(StunningRecommendationsChart,{recommendations:recommendations,currentPrice:stockData.currentPrice})]}),activeTab==='education'&&technicalIndicators&&recommendations&&/*#__PURE__*/_jsx(EducationalMetrics,{prices:stockData.prices,indicators:technicalIndicators,fundamentals:stockData.fundamentals,recommendations:recommendations,currentPrice:stockData.currentPrice}),activeTab==='volatility'&&/*#__PURE__*/_jsx(VolatilityChart,{prices:stockData.prices,volatilities:[]// TODO: Calculate volatilities\n,regimes:[]// TODO: Calculate regimes\n,isDarkMode:false}),activeTab==='monte-carlo'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-glass\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\",children:[\"Monte Carlo Simulation\",/*#__PURE__*/_jsx(InfoIcon,{content:\"This simulation generates thousands of possible future price paths based on historical volatility and market conditions. Each path represents one possible outcome, helping you understand the range of potential returns and risks.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"How to interpret:\"}),\" The simulation shows multiple possible price paths over the next year. Most paths may trend downward due to:\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside space-y-1 ml-4\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Risk-adjusted returns (higher risk = lower expected returns)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Market efficiency assumptions\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Historical volatility patterns\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Mean reversion tendencies\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Key insights:\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-disc list-inside space-y-1 ml-4\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"Wider spread = higher uncertainty\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Downward bias = risk premium\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Extreme paths = tail risk events\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Central tendency = most likely outcome\"})]})]})]})]}),/*#__PURE__*/_jsx(MonteCarloPathsChart,{paths:analyticsResult.paths,initialPrice:stockData.currentPrice,isDarkMode:false})]}),activeTab==='distribution'&&/*#__PURE__*/_jsx(DistributionChart,{histogram:analyticsResult.histogram,initialPrice:stockData.currentPrice,isDarkMode:false}),activeTab==='metrics'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-gray-900 flex items-center gap-2\",children:[\"Risk Analysis\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Risk metrics help quantify the potential losses and gains. VaR shows maximum expected loss, while probability metrics show the likelihood of significant price movements.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card border-red-200 bg-red-50\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-red-700 mb-2 flex items-center gap-1\",children:[\"VaR (95%)\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Value at Risk: 95% confidence that losses won't exceed this amount in a given time period.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value text-red-700\",children:[\"$\",analyticsResult.var95.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label text-red-600\",children:\"Maximum Expected Loss\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card border-orange-200 bg-orange-50\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-orange-700 mb-2 flex items-center gap-1\",children:[\"VaR (99%)\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Extreme Value at Risk: 99% confidence level for worst-case scenario losses.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value text-orange-700\",children:[\"$\",analyticsResult.var99.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label text-orange-600\",children:\"Extreme Risk\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card border-green-200 bg-green-50\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-green-700 mb-2 flex items-center gap-1\",children:[\"Upside 20%\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Probability of the stock gaining 20% or more from current price.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value text-green-700\",children:[(analyticsResult.probabilities.upside20*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label text-green-600\",children:\"Growth Probability\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card border-blue-200 bg-blue-50\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-sm font-medium text-blue-700 mb-2 flex items-center gap-1\",children:[\"Downside 10%\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Probability of the stock losing 10% or more from current price.\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"metric-value text-blue-700\",children:[(analyticsResult.probabilities.downside10*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-label text-blue-600\",children:\"Decline Probability\"})]})]})]})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-text\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-title\",children:\"Running Monte Carlo simulation...\"}),/*#__PURE__*/_jsx(\"div\",{className:\"loading-subtitle\",children:\"This may take a few moments\"})]})})]}),!stockData&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome-icon\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsx(\"h2\",{className:\"welcome-title\",children:\"Ready to Analyze\"}),/*#__PURE__*/_jsx(\"p\",{className:\"welcome-description\",children:\"Enter a stock ticker symbol above to begin your financial analysis with advanced Monte Carlo simulations and risk metrics.\"})]})]})}),settingsOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/20 backdrop-blur-sm\",onClick:()=>setSettingsOpen(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 top-0 h-full w-full max-w-md bg-elevated border-l border-light shadow-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-light\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-primary\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSettingsOpen(false),className:\"p-2 text-secondary hover:text-primary rounded-full hover:bg-secondary transition-colors\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-6 space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary\",children:\"API Configuration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary\",children:\"Configure your API keys to access real-time financial data.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-primary mb-2\",children:\"Alpha Vantage API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your Alpha Vantage API key\",className:\"w-full px-4 py-3 bg-secondary border border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent transition-colors\",onChange:e=>{if(e.target.value){dataFetcherRef.current.setApiKey(e.target.value,'alphavantage');}}}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-tertiary mt-1\",children:[\"Get your free API key at \",/*#__PURE__*/_jsx(\"a\",{href:\"https://www.alphavantage.co\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-accent-primary hover:underline\",children:\"alphavantage.co\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-primary mb-2\",children:\"Polygon API Key\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your Polygon API key\",className:\"w-full px-4 py-3 bg-secondary border border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent transition-colors\",onChange:e=>{if(e.target.value){dataFetcherRef.current.setApiKey(e.target.value,'polygon');}}}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-tertiary mt-1\",children:[\"Get your free API key at \",/*#__PURE__*/_jsx(\"a\",{href:\"https://polygon.io\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-accent-primary hover:underline\",children:\"polygon.io\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary\",children:\"Advanced Simulation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-secondary\",children:\"Fine-tune the Monte Carlo simulation parameters for more accurate results.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\",children:[\"Alpha (\\u03B1): \",simulationParams.alpha,/*#__PURE__*/_jsx(InfoIcon,{content:\"Controls how quickly volatility changes persist. Higher values mean volatility changes last longer.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.01\",max:\"0.3\",step:\"0.01\",value:simulationParams.alpha,onChange:e=>updateSimulationParam('alpha',parseFloat(e.target.value)),className:\"w-full bg-secondary border border-light rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-tertiary mt-1\",children:\"GARCH volatility persistence parameter\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\",children:[\"Beta (\\u03B2): \",simulationParams.beta,/*#__PURE__*/_jsx(InfoIcon,{content:\"Controls how much past volatility affects future volatility. Higher values create more clustering of volatility.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.5\",max:\"0.95\",step:\"0.01\",value:simulationParams.beta,onChange:e=>updateSimulationParam('beta',parseFloat(e.target.value)),className:\"w-full bg-secondary border border-light rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-tertiary mt-1\",children:\"GARCH volatility clustering parameter\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\",children:[\"Theta (\\u03B8): \",simulationParams.theta,/*#__PURE__*/_jsx(InfoIcon,{content:\"Controls how strongly prices tend to revert to their long-term average. Higher values mean stronger mean reversion.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.01\",max:\"0.2\",step:\"0.01\",value:simulationParams.theta,onChange:e=>updateSimulationParam('theta',parseFloat(e.target.value)),className:\"w-full bg-secondary border border-light rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-tertiary mt-1\",children:\"Mean reversion strength\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\",children:[\"Regime Switch: \",(simulationParams.switchProb*100).toFixed(1),\"%\",/*#__PURE__*/_jsx(InfoIcon,{content:\"Probability of switching between bull and bear market regimes. Higher values create more dramatic market shifts.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.01\",max:\"0.2\",step:\"0.01\",value:simulationParams.switchProb,onChange:e=>updateSimulationParam('switchProb',parseFloat(e.target.value)),className:\"w-full bg-secondary border border-light rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-tertiary mt-1\",children:\"Market regime change probability\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\",children:[\"Number of Paths: \",simulationParams.numPaths,/*#__PURE__*/_jsx(InfoIcon,{content:\"Number of simulated price paths. More paths provide more accurate results but take longer to compute.\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"100\",max:\"5000\",step:\"100\",value:simulationParams.numPaths,onChange:e=>updateSimulationParam('numPaths',parseInt(e.target.value)),className:\"w-full bg-secondary border border-light rounded-lg\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-tertiary mt-1\",children:\"More paths = more accurate results (slower computation)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary\",children:\"Display\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-primary\",children:\"Show loading animations\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\",defaultChecked:true}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-primary\",children:\"Auto-refresh data\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\",defaultChecked:true}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-primary\",children:\"Show tooltips\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-primary\",children:\"Data Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-3 text-center text-sm font-bold bg-red-500 text-white hover:bg-red-600 rounded-xl transition-colors\",children:\"Clear all cached data\"}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-3 text-center text-sm font-bold bg-red-500 text-white hover:bg-red-600 rounded-xl transition-colors\",children:\"Clear API keys\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-t border-light\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSettingsOpen(false),className:\"w-full px-6 py-3 bg-accent-primary text-white font-medium rounded-xl hover:bg-accent-secondary transition-all duration-200 shadow-lg\",children:\"Done\"})})]})})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","DataFetcher","TechnicalAnalysis","VolatilityChart","MonteCarloPathsChart","DistributionChart","EducationalMetrics","StunningHistoricalChart","StunningRecommendationsChart","ImprovedTechnicalChart","InfoIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_stockData$fundamenta","_stockData$fundamenta2","_stockData$fundamenta3","_stockData$fundamenta4","_stockData$fundamenta5","stockData","setStockData","analyticsResult","setAnalyticsResult","technicalIndicators","setTechnicalIndicators","recommendations","setRecommendations","loading","setLoading","error","setError","ticker","setTicker","activeTab","setActiveTab","settingsOpen","setSettingsOpen","isAnalyzing","setIsAnalyzing","selectedTimeline","setSelectedTimeline","apiWarning","setApiWarning","showIndicators","setShowIndicators","rsi","macd","bollingerBands","movingAverages","volume","simulationParams","setSimulationParams","alpha","beta","theta","switchProb","numPaths","numSteps","workerRef","dataFetcherRef","fetchData","symbol","timeline","arguments","length","undefined","current","hasApiKey","data","fetchStockData","prices","err","errorMessage","Error","message","includes","calculateTechnicalAnalysis","indicators","calculateAllIndicators","generateRecommendations","fundamentals","currentPrice","console","runSimulation","workerCode","blob","Blob","type","Worker","URL","createObjectURL","onmessage","e","success","result","onerror","postMessage","params","terminate","handleTickerChange","target","value","toUpperCase","handleTickerSubmit","preventDefault","trim","handleTimelineChange","updateSimulationParam","param","prev","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","onChange","placeholder","disabled","onClick","fillRule","clipRule","toFixed","content","pe","marketCap","dividendYield","pb","peg","eps","id","label","icon","map","tab","period","Object","entries","_ref","key","indicatorNames","checked","signal","histogram","upper","middle","lower","sma20","sma50","ema12","ema26","volumeSMA","volumeRatio","supportResistance","support","resistance","trend","overall","action","confidence","riskLevel","timeHorizon","summary","priceTargets","conservative","moderate","aggressive","title","rec","technical","color","fundamental","risk","_ref2","signals","bullish","i","bearish","neutral","volatilities","regimes","isDarkMode","paths","initialPrice","var95","var99","probabilities","upside20","downside10","setApiKey","href","rel","min","max","step","parseFloat","parseInt","defaultChecked"],"sources":["/Users/slongo/Documents/simone_misc/stock_widget/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './App.css';\nimport { DataFetcher } from './DataFetch';\nimport { TechnicalAnalysis } from './TechnicalAnalysis';\nimport { StockData, AnalyticsResult, AnalyticsParams, TechnicalIndicators, RecommendationAnalysis } from './types';\nimport { VolatilityChart, MonteCarloPathsChart, DistributionChart } from './Charts';\nimport { EducationalMetrics } from './EnhancedCharts';\nimport { StunningHistoricalChart, StunningRecommendationsChart } from './StunningCharts';\nimport { ImprovedTechnicalChart } from './ImprovedCharts';\nimport { InfoIcon } from './components/Tooltip';\n\nfunction App() {\n  const [stockData, setStockData] = useState<StockData | null>(null);\n  const [analyticsResult, setAnalyticsResult] = useState<AnalyticsResult | null>(null);\n  const [technicalIndicators, setTechnicalIndicators] = useState<TechnicalIndicators | null>(null);\n  const [recommendations, setRecommendations] = useState<RecommendationAnalysis | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [ticker, setTicker] = useState('AAPL');\n  const [activeTab, setActiveTab] = useState('historical');\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [selectedTimeline, setSelectedTimeline] = useState('1y');\n  const [apiWarning, setApiWarning] = useState<string | null>(null);\n  const [showIndicators, setShowIndicators] = useState({\n    rsi: false,\n    macd: false,\n    bollingerBands: true,\n    movingAverages: true,\n    volume: false\n  });\n  const [simulationParams, setSimulationParams] = useState<AnalyticsParams>({\n    alpha: 0.1,\n    beta: 0.8,\n    theta: 0.05,\n    switchProb: 0.05,\n    numPaths: 1000,\n    numSteps: 252\n  });\n\n  const workerRef = useRef<Worker | null>(null);\n  const dataFetcherRef = useRef<DataFetcher>(new DataFetcher());\n\n  // Fetch stock data\n  const fetchData = useCallback(async (symbol: string, timeline: string = '1y') => {\n    if (!dataFetcherRef.current.hasApiKey()) {\n      setError('Please set up your API key in Settings to fetch stock data');\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n    setApiWarning(null);\n    \n    try {\n      const data = await dataFetcherRef.current.fetchStockData(symbol, timeline);\n      setStockData(data);\n      \n      // Check for API limitations\n      if (data.prices.length < 10) {\n        setApiWarning('Limited data available. Consider upgrading to a paid API tier for more historical data.');\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch data';\n      setError(errorMessage);\n      \n      // Check for specific API errors\n      if (errorMessage.includes('rate limit') || errorMessage.includes('quota')) {\n        setApiWarning('API rate limit reached. Consider upgrading to a paid tier for higher limits.');\n      } else if (errorMessage.includes('subscription')) {\n        setApiWarning('This data requires a paid subscription. Please upgrade your API plan.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Calculate technical indicators\n  const calculateTechnicalAnalysis = useCallback(() => {\n    if (!stockData) return;\n\n    try {\n      const indicators = TechnicalAnalysis.calculateAllIndicators(stockData.prices);\n      setTechnicalIndicators(indicators);\n      \n      // Calculate recommendations\n      const recommendations = TechnicalAnalysis.generateRecommendations(\n        stockData.prices,\n        indicators,\n        stockData.fundamentals,\n        stockData.currentPrice\n      );\n      setRecommendations(recommendations);\n    } catch (error) {\n      console.error('Error calculating technical analysis:', error);\n      setError('Failed to calculate technical indicators');\n    }\n  }, [stockData]);\n\n  // Calculate technical analysis when stock data changes\n  useEffect(() => {\n    if (stockData) {\n      calculateTechnicalAnalysis();\n    }\n  }, [stockData, calculateTechnicalAnalysis]);\n\n  // Run Monte Carlo simulation\n  const runSimulation = useCallback(async () => {\n    if (!stockData) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      // Calculate technical indicators first\n      calculateTechnicalAnalysis();\n\n      // Create Web Worker for Monte Carlo simulation\n      const workerCode = `\n        // Simple Monte Carlo simulation for Web Worker\n        function randomNormal() {\n          const u = Math.random();\n          const v = Math.random();\n          return Math.sqrt(-2 * Math.log(u)) * Math.cos(2 * Math.PI * v);\n        }\n\n        function calculateReturns(prices) {\n          if (prices.length < 2) throw new Error('Need at least 2 price points');\n          const returns = [];\n          for (let i = 1; i < prices.length; i++) {\n            if (prices[i - 1].close <= 0) throw new Error('Invalid price data');\n            returns.push(Math.log(prices[i].close / prices[i - 1].close));\n          }\n          return returns;\n        }\n\n        function calculateGARCHVolatility(returns, alpha, beta) {\n          if (returns.length === 0) throw new Error('No returns data');\n          if (alpha < 0 || beta < 0 || alpha + beta >= 1) throw new Error('Invalid GARCH parameters');\n          \n          const n = returns.length;\n          const volatilities = [];\n          const meanReturn = returns.reduce((sum, r) => sum + r, 0) / n;\n          const sampleVar = returns.reduce((sum, r) => sum + Math.pow(r - meanReturn, 2), 0) / (n - 1);\n          const omega = Math.max(sampleVar, 1e-8) * (1 - alpha - beta);\n          \n          volatilities[0] = Math.sqrt(Math.max(sampleVar, 1e-8));\n          for (let t = 1; t < n; t++) {\n            const variance = omega + alpha * Math.pow(returns[t - 1], 2) + beta * Math.pow(volatilities[t - 1], 2);\n            volatilities[t] = Math.sqrt(Math.max(Math.min(variance, 1e4), 1e-8));\n          }\n          return volatilities;\n        }\n\n        function calculateTrendAndDrift(prices, theta) {\n          if (prices.length < 2) throw new Error('Need at least 2 price points');\n          if (theta < 0 || theta > 1) throw new Error('Theta must be between 0 and 1');\n          \n          const n = prices.length;\n          const logPrices = prices.map(p => Math.log(p.close));\n          const xMean = (n - 1) / 2;\n          const yMean = logPrices.reduce((sum, y) => sum + y, 0) / n;\n          \n          let numerator = 0, denominator = 0;\n          for (let i = 0; i < n; i++) {\n            const x = i, y = logPrices[i];\n            numerator += (x - xMean) * (y - yMean);\n            denominator += Math.pow(x - xMean, 2);\n          }\n          \n          if (Math.abs(denominator) < 1e-10) {\n            return { trend: prices[n - 1].close, drift: 0 };\n          }\n          \n          const slope = numerator / denominator;\n          const trend = Math.exp(slope * n);\n          const currentPrice = prices[n - 1].close;\n          const drift = theta * (trend - currentPrice) / currentPrice;\n          return { trend, drift };\n        }\n\n        function runMonteCarloSimulation(initialPrice, params, initialVolatility, drift) {\n          if (initialPrice <= 0) throw new Error('Initial price must be positive');\n          if (initialVolatility <= 0) throw new Error('Initial volatility must be positive');\n          \n          const { numPaths, numSteps, alpha, beta } = params;\n          const paths = [];\n          const dt = 1 / 252;\n          const omega = initialVolatility * initialVolatility * (1 - alpha - beta);\n          \n          for (let path = 0; path < numPaths; path++) {\n            const pathPrices = [initialPrice];\n            let currentPrice = initialPrice;\n            let currentVolatility = initialVolatility;\n            \n            for (let step = 0; step < numSteps; step++) {\n              const z = randomNormal();\n              const ret = drift * dt - 0.5 * currentVolatility * currentVolatility * dt + \n                         currentVolatility * Math.sqrt(dt) * z;\n              \n              currentPrice = currentPrice * Math.exp(ret);\n              if (currentPrice < 0.01) currentPrice = 0.01;\n              pathPrices.push(currentPrice);\n              \n              const variance = omega + alpha * Math.pow(ret, 2) + beta * Math.pow(currentVolatility, 2);\n              currentVolatility = Math.sqrt(Math.max(Math.min(variance, 1e4), 1e-8));\n            }\n            paths.push(pathPrices);\n          }\n          \n          // Calculate statistics\n          const finalPrices = paths.map(path => path[path.length - 1]);\n          const sortedPrices = finalPrices.slice().sort((a, b) => a - b);\n          \n          const upside20Count = finalPrices.filter(price => price >= initialPrice * 1.2).length;\n          const downside10Count = finalPrices.filter(price => price <= initialPrice * 0.9).length;\n          \n          const var95Index = Math.floor(0.05 * numPaths);\n          const var99Index = Math.floor(0.01 * numPaths);\n          \n          const histogram = [];\n          const minPrice = sortedPrices[0];\n          const maxPrice = sortedPrices[sortedPrices.length - 1];\n          const binSize = (maxPrice - minPrice) / 50;\n          \n          for (let i = 0; i < 50; i++) {\n            histogram.push({ bin: minPrice + i * binSize, count: 0 });\n          }\n          \n          finalPrices.forEach(price => {\n            const binIndex = Math.min(Math.floor((price - minPrice) / binSize), 49);\n            histogram[binIndex].count++;\n          });\n          \n          const percentiles = {};\n          [5, 10, 25, 50, 75, 90, 95].forEach(p => {\n            const index = Math.floor((p / 100) * (numPaths - 1));\n            percentiles['p' + p] = sortedPrices[index];\n          });\n          \n          return {\n            paths,\n            probabilities: {\n              upside20: upside20Count / numPaths,\n              downside10: downside10Count / numPaths\n            },\n            histogram,\n            percentiles,\n            var95: initialPrice - sortedPrices[var95Index],\n            var99: initialPrice - sortedPrices[var99Index],\n            expectedShortfall95: initialPrice - sortedPrices.slice(0, var95Index + 1).reduce((sum, price) => sum + price, 0) / (var95Index + 1),\n            expectedShortfall99: initialPrice - sortedPrices.slice(0, var99Index + 1).reduce((sum, price) => sum + price, 0) / (var99Index + 1),\n            currentVolatility: 0,\n            trend: 0,\n            drift: 0\n          };\n        }\n\n        self.onmessage = function(e) {\n          try {\n            const returns = calculateReturns(e.data.stockData.prices);\n            const volatilities = calculateGARCHVolatility(returns, e.data.params.alpha, e.data.params.beta);\n            const trendDrift = calculateTrendAndDrift(e.data.stockData.prices, e.data.params.theta);\n            \n            const result = runMonteCarloSimulation(\n              e.data.stockData.currentPrice,\n              e.data.params,\n              volatilities[volatilities.length - 1],\n              trendDrift.drift\n            );\n            \n            result.currentVolatility = volatilities[volatilities.length - 1];\n            result.trend = trendDrift.trend;\n            result.drift = trendDrift.drift;\n            \n            self.postMessage({ success: true, result });\n          } catch (error) {\n            self.postMessage({ success: false, error: error.message });\n          }\n        };\n      `;\n\n      const blob = new Blob([workerCode], { type: 'application/javascript' });\n      workerRef.current = new Worker(URL.createObjectURL(blob));\n\n      workerRef.current.onmessage = (e) => {\n        if (e.data.success) {\n          setAnalyticsResult(e.data.result);\n        } else {\n          setError(e.data.error);\n        }\n        setLoading(false);\n      };\n\n      workerRef.current.onerror = (e) => {\n        setError('Simulation failed: ' + e.message);\n        setLoading(false);\n      };\n\n      workerRef.current.postMessage({\n        stockData,\n        params: simulationParams\n      });\n\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Simulation failed');\n      setLoading(false);\n    }\n  }, [stockData, simulationParams, calculateTechnicalAnalysis]);\n\n  // Cleanup worker on unmount\n  useEffect(() => {\n    return () => {\n      if (workerRef.current) {\n        workerRef.current.terminate();\n      }\n    };\n  }, []);\n\n  // Run simulation when stock data changes\n  useEffect(() => {\n    if (stockData) {\n      runSimulation();\n    }\n  }, [stockData, runSimulation]);\n\n  const handleTickerChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setTicker(e.target.value.toUpperCase());\n  };\n\n  const handleTickerSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (ticker.trim()) {\n      setIsAnalyzing(true);\n      setApiWarning(null);\n      fetchData(ticker, selectedTimeline);\n    }\n  };\n\n  const handleTimelineChange = (timeline: string) => {\n    setSelectedTimeline(timeline);\n    if (stockData) {\n      fetchData(ticker, timeline);\n    }\n  };\n\n  const updateSimulationParam = (param: keyof AnalyticsParams, value: number) => {\n    setSimulationParams((prev: AnalyticsParams) => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Header */}\n      <header className=\"header\">\n        <div className=\"container\">\n          <div className=\"header-content\">\n            <div className=\"header-brand\">\n              <div className=\"header-logo\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                </svg>\n              </div>\n              <h1 className=\"header-title\">Finance Analytics</h1>\n            </div>\n            \n            <div className=\"header-controls\">\n              {/* Ticker Input */}\n              <form onSubmit={handleTickerSubmit} className=\"search-form\">\n                <input\n                  type=\"text\"\n                  value={ticker}\n                  onChange={handleTickerChange}\n                  placeholder=\"Enter ticker...\"\n                  className=\"search-input\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"search-button\"\n                >\n                  {loading ? (\n                    <>\n                      <div className=\"loading-spinner w-4 h-4\"></div>\n                      <span>Analyzing...</span>\n                    </>\n                  ) : (\n                    'Analyze'\n                  )}\n                </button>\n              </form>\n\n              {/* Settings Button */}\n              <button\n                onClick={() => setSettingsOpen(true)}\n                className=\"settings-button\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className={`main ${isAnalyzing ? 'analyzing' : ''}`}>\n        <div className=\"container\">\n          {error && (\n            <div className=\"error-message\">\n              <div className=\"error-icon\">\n                <svg className=\"w-3 h-3 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <p className=\"error-text\">{error}</p>\n            </div>\n          )}\n\n          {/* Welcome State - Centered Ticker Input */}\n          {!stockData && !loading && (\n            <div className=\"welcome-container\">\n              <div className=\"welcome-icon\">\n                <svg className=\"w-10 h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                </svg>\n              </div>\n              <h2 className=\"welcome-title\">Financial Analytics Widget</h2>\n              <p className=\"welcome-description\">\n                Enter a stock ticker symbol to begin your comprehensive financial analysis with advanced Monte Carlo simulations and risk metrics.\n              </p>\n              \n              <form onSubmit={handleTickerSubmit} className=\"centered-search-form\">\n                <input\n                  type=\"text\"\n                  value={ticker}\n                  onChange={handleTickerChange}\n                  placeholder=\"Enter ticker symbol (e.g., AAPL, MSFT, TSLA)...\"\n                  className=\"centered-search-input\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"centered-search-button\"\n                >\n                  {loading ? (\n                    <>\n                      <div className=\"loading-spinner w-4 h-4\"></div>\n                      <span>Analyzing...</span>\n                    </>\n                  ) : (\n                    'Analyze Stock'\n                  )}\n                </button>\n              </form>\n            </div>\n          )}\n\n        {stockData && (\n          <>\n            {/* Stock Info Card */}\n            <div className=\"stock-info\">\n              <div className=\"stock-header\">\n                <div className=\"stock-price\">\n                  <div className=\"stock-ticker\">\n                    <h2 className=\"ticker-symbol\">{stockData.ticker}</h2>\n                    <div className=\"status-badge\">\n                      Active\n                    </div>\n                  </div>\n                  <p className=\"current-price\">\n                    ${stockData.currentPrice.toFixed(2)}\n                  </p>\n                  <p className=\"price-label\">Current Price</p>\n                </div>\n                \n                <div className=\"metrics-section\">\n                  <h3 className=\"metrics-title\">\n                    Valuation Metrics\n                    <InfoIcon content=\"Key financial ratios that help determine if a stock is overvalued or undervalued relative to its earnings, assets, and growth potential.\" />\n                  </h3>\n                  <div className=\"metrics-grid\">\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">P/E Ratio</span>\n                      <span className=\"metric-value\">\n                        {stockData.fundamentals.pe?.toFixed(2) || 'N/A'}\n                      </span>\n                    </div>\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">Market Cap</span>\n                      <span className=\"metric-value\">\n                        ${(stockData.fundamentals.marketCap ? stockData.fundamentals.marketCap / 1e9 : 0).toFixed(2)}B\n                      </span>\n                    </div>\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">Dividend Yield</span>\n                      <span className=\"metric-value\">\n                        {stockData.fundamentals.dividendYield?.toFixed(2) || 'N/A'}%\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"metrics-section\">\n                  <h3 className=\"metrics-title\">\n                    Additional Metrics\n                    <InfoIcon content=\"Additional financial indicators including price-to-book ratio, PEG ratio for growth valuation, and earnings per share.\" />\n                  </h3>\n                  <div className=\"metrics-grid\">\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">P/B Ratio</span>\n                      <span className=\"metric-value\">\n                        {stockData.fundamentals.pb?.toFixed(2) || 'N/A'}\n                      </span>\n                    </div>\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">PEG Ratio</span>\n                      <span className=\"metric-value\">\n                        {stockData.fundamentals.peg?.toFixed(2) || 'N/A'}\n                      </span>\n                    </div>\n                    <div className=\"metric-row\">\n                      <span className=\"metric-label\">EPS</span>\n                      <span className=\"metric-value\">\n                        {stockData.fundamentals.eps?.toFixed(2) || 'N/A'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Navigation Tabs */}\n            <nav className=\"tab-navigation\">\n              <div className=\"tab-list\">\n                {[\n                  { \n                    id: 'historical', \n                    label: 'Historical Data', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'technical', \n                    label: 'Technical Indicators', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'recommendations', \n                    label: 'Buy/Sell Signals', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'education', \n                    label: 'Learn & Explain', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'volatility', \n                    label: 'Volatility Analysis', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'monte-carlo', \n                    label: 'Monte Carlo Simulation', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'distribution', \n                    label: 'Price Distribution', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n                      </svg>\n                    )\n                  },\n                  { \n                    id: 'metrics', \n                    label: 'Risk Metrics', \n                    icon: (\n                      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                      </svg>\n                    )\n                  }\n                ].map((tab) => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`tab-button ${activeTab === tab.id ? 'active' : ''}`}\n                  >\n                    {tab.icon}\n                    <span>{tab.label}</span>\n                  </button>\n                ))}\n              </div>\n            </nav>\n\n            {/* Charts */}\n            {analyticsResult && (\n              <div className=\"chart-container\">\n                {/* Timeline Controls */}\n                <div className=\"timeline-controls\">\n                  <h4 className=\"controls-title\">\n                    Time Period\n                    <InfoIcon content=\"Select the time period for historical data analysis. Longer periods provide more context but may have API limitations.\" />\n                  </h4>\n                  <div className=\"timeline-grid\">\n                    {[\n                      { value: '1d', label: '1 Day' },\n                      { value: '1w', label: '1 Week' },\n                      { value: '1m', label: '1 Month' },\n                      { value: '6m', label: '6 Months' },\n                      { value: '1y', label: '1 Year' },\n                      { value: '2y', label: '2 Years' },\n                      { value: '5y', label: '5 Years' },\n                      { value: 'max', label: 'Max' }\n                    ].map((period) => (\n                      <button\n                        key={period.value}\n                        onClick={() => handleTimelineChange(period.value)}\n                        className={`timeline-button ${selectedTimeline === period.value ? 'active' : ''}`}\n                      >\n                        {period.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* API Warning */}\n                {apiWarning && (\n                  <div className=\"api-warning\">\n                    <div className=\"warning-icon\">\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z\" />\n                      </svg>\n                    </div>\n                    <p className=\"warning-text\">{apiWarning}</p>\n                  </div>\n                )}\n\n                {activeTab === 'historical' && (\n                  <>\n                    {/* Indicator Controls */}\n                    <div className=\"chart-controls\">\n                      <h4 className=\"controls-title\">\n                        Chart Overlays\n                        <InfoIcon content=\"Toggle different technical indicators on the price chart to analyze trends, momentum, and volatility patterns.\" />\n                      </h4>\n                      <div className=\"controls-grid\">\n                        {Object.entries(showIndicators).map(([key, value]) => {\n                          const indicatorNames: { [key: string]: string } = {\n                            rsi: 'RSI',\n                            macd: 'MACD',\n                            bollingerBands: 'Bollinger Bands',\n                            movingAverages: 'Moving Averages',\n                            volume: 'Volume'\n                          };\n                          \n                          return (\n                            <label key={key} className=\"custom-checkbox\">\n                              <input\n                                type=\"checkbox\"\n                                checked={value}\n                                onChange={(e) => setShowIndicators(prev => ({ ...prev, [key]: e.target.checked }))}\n                              />\n                              <span>{indicatorNames[key] || key}</span>\n                            </label>\n                          );\n                        })}\n                      </div>\n                    </div>\n                    \n                    <StunningHistoricalChart\n                      prices={stockData.prices}\n                      indicators={technicalIndicators || { rsi: [], macd: { macd: [], signal: [], histogram: [] }, bollingerBands: { upper: [], middle: [], lower: [] }, movingAverages: { sma20: [], sma50: [], ema12: [], ema26: [] }, volume: { volumeSMA: [], volumeRatio: [] }, supportResistance: { support: [], resistance: [] } }}\n                      trend={analyticsResult.trend}\n                      showIndicators={showIndicators}\n                    />\n                  </>\n                )}\n                {activeTab === 'technical' && technicalIndicators && (\n                  <ImprovedTechnicalChart\n                    prices={stockData.prices}\n                    indicators={technicalIndicators}\n                  />\n                )}\n                {activeTab === 'recommendations' && recommendations && (\n                  <div className=\"space-y-8\">\n                    {/* Overall Recommendation */}\n                    <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-2xl border border-blue-200\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <h3 className=\"text-2xl font-bold text-slate-900\">Overall Recommendation</h3>\n                        <div className={`px-6 py-3 rounded-full text-white font-bold text-lg ${\n                          recommendations.overall.action === 'BUY' ? 'bg-green-500' :\n                          recommendations.overall.action === 'SELL' ? 'bg-red-500' :\n                          'bg-yellow-500'\n                        }`}>\n                          {recommendations.overall.action}\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-bold text-slate-900\">{recommendations.overall.confidence}%</div>\n                          <div className=\"text-sm text-slate-600\">Confidence</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-semibold text-slate-900 capitalize\">{recommendations.overall.riskLevel}</div>\n                          <div className=\"text-sm text-slate-600\">Risk Level</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-semibold text-slate-900 capitalize\">{recommendations.overall.timeHorizon}</div>\n                          <div className=\"text-sm text-slate-600\">Time Horizon</div>\n                        </div>\n                      </div>\n                      \n                      <p className=\"text-slate-700 mb-4\">{recommendations.summary}</p>\n                      \n                      {/* Price Targets */}\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <div className=\"bg-white p-4 rounded-xl border border-green-200\">\n                          <div className=\"text-sm text-green-600 font-medium\">Conservative Target</div>\n                          <div className=\"text-xl font-bold text-green-700\">${recommendations.overall.priceTargets.conservative.toFixed(2)}</div>\n                        </div>\n                        <div className=\"bg-white p-4 rounded-xl border border-blue-200\">\n                          <div className=\"text-sm text-blue-600 font-medium\">Moderate Target</div>\n                          <div className=\"text-xl font-bold text-blue-700\">${recommendations.overall.priceTargets.moderate.toFixed(2)}</div>\n                        </div>\n                        <div className=\"bg-white p-4 rounded-xl border border-purple-200\">\n                          <div className=\"text-sm text-purple-600 font-medium\">Aggressive Target</div>\n                          <div className=\"text-xl font-bold text-purple-700\">${recommendations.overall.priceTargets.aggressive.toFixed(2)}</div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Detailed Recommendations */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                      {[\n                        { title: 'Technical Analysis', rec: recommendations.technical, color: 'blue' },\n                        { title: 'Fundamental Analysis', rec: recommendations.fundamental, color: 'green' },\n                        { title: 'Risk Assessment', rec: recommendations.risk, color: 'orange' }\n                      ].map(({ title, rec, color }) => (\n                        <div key={title} className={`bg-${color}-50 p-6 rounded-2xl border border-${color}-200`}>\n                          <h4 className=\"text-lg font-semibold text-slate-900 mb-3\">{title}</h4>\n                          <div className=\"flex items-center justify-between mb-4\">\n                            <div className={`px-4 py-2 rounded-full text-white font-semibold ${\n                              rec.action === 'BUY' ? 'bg-green-500' :\n                              rec.action === 'SELL' ? 'bg-red-500' :\n                              'bg-yellow-500'\n                            }`}>\n                              {rec.action}\n                            </div>\n                            <div className=\"text-2xl font-bold text-slate-900\">{rec.confidence}%</div>\n                          </div>\n                          <div className=\"space-y-2 text-sm text-slate-600\">\n                            <div><span className=\"font-medium\">Risk:</span> {rec.riskLevel}</div>\n                            <div><span className=\"font-medium\">Horizon:</span> {rec.timeHorizon}</div>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* Signals */}\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                      <div className=\"bg-green-50 p-6 rounded-2xl border border-green-200\">\n                        <h4 className=\"text-lg font-semibold text-green-800 mb-3\">Bullish Signals ({recommendations.signals.bullish.length})</h4>\n                        <ul className=\"space-y-2 text-sm text-green-700\">\n                          {recommendations.signals.bullish.map((signal, i) => (\n                            <li key={i} className=\"flex items-start\">\n                              <span className=\"text-green-500 mr-2\"></span>\n                              {signal}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                      \n                      <div className=\"bg-red-50 p-6 rounded-2xl border border-red-200\">\n                        <h4 className=\"text-lg font-semibold text-red-800 mb-3\">Bearish Signals ({recommendations.signals.bearish.length})</h4>\n                        <ul className=\"space-y-2 text-sm text-red-700\">\n                          {recommendations.signals.bearish.map((signal, i) => (\n                            <li key={i} className=\"flex items-start\">\n                              <span className=\"text-red-500 mr-2\"></span>\n                              {signal}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                      \n                      <div className=\"bg-slate-50 p-6 rounded-2xl border border-slate-200\">\n                        <h4 className=\"text-lg font-semibold text-slate-800 mb-3\">Neutral Signals ({recommendations.signals.neutral.length})</h4>\n                        <ul className=\"space-y-2 text-sm text-slate-700\">\n                          {recommendations.signals.neutral.map((signal, i) => (\n                            <li key={i} className=\"flex items-start\">\n                              <span className=\"text-slate-500 mr-2\"></span>\n                              {signal}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n\n                    {/* Chart */}\n                    <StunningRecommendationsChart\n                      recommendations={recommendations}\n                      currentPrice={stockData.currentPrice}\n                    />\n                  </div>\n                )}\n                {activeTab === 'education' && technicalIndicators && recommendations && (\n                  <EducationalMetrics\n                    prices={stockData.prices}\n                    indicators={technicalIndicators}\n                    fundamentals={stockData.fundamentals}\n                    recommendations={recommendations}\n                    currentPrice={stockData.currentPrice}\n                  />\n                )}\n                {activeTab === 'volatility' && (\n                  <VolatilityChart\n                    prices={stockData.prices}\n                    volatilities={[]} // TODO: Calculate volatilities\n                    regimes={[]} // TODO: Calculate regimes\n                    isDarkMode={false}\n                  />\n                )}\n                {activeTab === 'monte-carlo' && (\n                  <div className=\"space-y-6\">\n                    {/* Monte Carlo Explanation */}\n                    <div className=\"card-glass\">\n                                          <h3 className=\"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                      Monte Carlo Simulation\n                      <InfoIcon content=\"This simulation generates thousands of possible future price paths based on historical volatility and market conditions. Each path represents one possible outcome, helping you understand the range of potential returns and risks.\" />\n                    </h3>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700\">\n                        <div>\n                          <p className=\"mb-3\">\n                            <strong>How to interpret:</strong> The simulation shows multiple possible price paths over the next year. \n                            Most paths may trend downward due to:\n                          </p>\n                          <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                            <li>Risk-adjusted returns (higher risk = lower expected returns)</li>\n                            <li>Market efficiency assumptions</li>\n                            <li>Historical volatility patterns</li>\n                            <li>Mean reversion tendencies</li>\n                          </ul>\n                        </div>\n                        <div>\n                          <p className=\"mb-3\">\n                            <strong>Key insights:</strong>\n                          </p>\n                          <ul className=\"list-disc list-inside space-y-1 ml-4\">\n                            <li>Wider spread = higher uncertainty</li>\n                            <li>Downward bias = risk premium</li>\n                            <li>Extreme paths = tail risk events</li>\n                            <li>Central tendency = most likely outcome</li>\n                          </ul>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <MonteCarloPathsChart\n                      paths={analyticsResult.paths}\n                      initialPrice={stockData.currentPrice}\n                      isDarkMode={false}\n                    />\n                  </div>\n                )}\n                {activeTab === 'distribution' && (\n                  <DistributionChart\n                    histogram={analyticsResult.histogram}\n                    initialPrice={stockData.currentPrice}\n                    isDarkMode={false}\n                  />\n                )}\n                {activeTab === 'metrics' && (\n                  <div className=\"space-y-6\">\n                    <h3 className=\"text-2xl font-bold text-gray-900 flex items-center gap-2\">\n                      Risk Analysis\n                      <InfoIcon content=\"Risk metrics help quantify the potential losses and gains. VaR shows maximum expected loss, while probability metrics show the likelihood of significant price movements.\" />\n                    </h3>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n                      <div className=\"metric-card border-red-200 bg-red-50\">\n                        <h4 className=\"text-sm font-medium text-red-700 mb-2 flex items-center gap-1\">\n                          VaR (95%)\n                          <InfoIcon content=\"Value at Risk: 95% confidence that losses won't exceed this amount in a given time period.\" />\n                        </h4>\n                        <p className=\"metric-value text-red-700\">\n                          ${analyticsResult.var95.toFixed(2)}\n                        </p>\n                        <p className=\"metric-label text-red-600\">Maximum Expected Loss</p>\n                      </div>\n                      <div className=\"metric-card border-orange-200 bg-orange-50\">\n                        <h4 className=\"text-sm font-medium text-orange-700 mb-2 flex items-center gap-1\">\n                          VaR (99%)\n                          <InfoIcon content=\"Extreme Value at Risk: 99% confidence level for worst-case scenario losses.\" />\n                        </h4>\n                        <p className=\"metric-value text-orange-700\">\n                          ${analyticsResult.var99.toFixed(2)}\n                        </p>\n                        <p className=\"metric-label text-orange-600\">Extreme Risk</p>\n                      </div>\n                      <div className=\"metric-card border-green-200 bg-green-50\">\n                        <h4 className=\"text-sm font-medium text-green-700 mb-2 flex items-center gap-1\">\n                          Upside 20%\n                          <InfoIcon content=\"Probability of the stock gaining 20% or more from current price.\" />\n                        </h4>\n                        <p className=\"metric-value text-green-700\">\n                          {(analyticsResult.probabilities.upside20 * 100).toFixed(1)}%\n                        </p>\n                        <p className=\"metric-label text-green-600\">Growth Probability</p>\n                      </div>\n                      <div className=\"metric-card border-blue-200 bg-blue-50\">\n                        <h4 className=\"text-sm font-medium text-blue-700 mb-2 flex items-center gap-1\">\n                          Downside 10%\n                          <InfoIcon content=\"Probability of the stock losing 10% or more from current price.\" />\n                        </h4>\n                        <p className=\"metric-value text-blue-700\">\n                          {(analyticsResult.probabilities.downside10 * 100).toFixed(1)}%\n                        </p>\n                        <p className=\"metric-label text-blue-600\">Decline Probability</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {loading && (\n              <div className=\"loading-container\">\n                <div className=\"loading-text\">\n                  <div className=\"loading-spinner\"></div>\n                  <div className=\"loading-title\">Running Monte Carlo simulation...</div>\n                  <div className=\"loading-subtitle\">This may take a few moments</div>\n                </div>\n              </div>\n            )}\n          </>\n        )}\n\n        {!stockData && !loading && (\n          <div className=\"welcome-container\">\n            <div className=\"welcome-icon\">\n              <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\n              </svg>\n            </div>\n            <h2 className=\"welcome-title\">Ready to Analyze</h2>\n            <p className=\"welcome-description\">\n              Enter a stock ticker symbol above to begin your financial analysis with advanced Monte Carlo simulations and risk metrics.\n            </p>\n          </div>\n        )}\n        </div>\n      </main>\n\n      {/* Settings Drawer */}\n      {settingsOpen && (\n        <div className=\"fixed inset-0 z-50 overflow-hidden\">\n          {/* Backdrop */}\n          <div \n            className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\"\n            onClick={() => setSettingsOpen(false)}\n          />\n          \n          {/* Drawer */}\n          <div className=\"absolute right-0 top-0 h-full w-full max-w-md bg-elevated border-l border-light shadow-2xl\">\n            <div className=\"flex flex-col h-full\">\n              {/* Header */}\n              <div className=\"flex items-center justify-between p-6 border-b border-light\">\n                <h2 className=\"text-xl font-semibold text-primary\">Settings</h2>\n                <button\n                  onClick={() => setSettingsOpen(false)}\n                  className=\"p-2 text-secondary hover:text-primary rounded-full hover:bg-secondary transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Content */}\n              <div className=\"flex-1 overflow-y-auto p-6 space-y-8\">\n                {/* API Keys Section */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-primary\">API Configuration</h3>\n                  <p className=\"text-sm text-secondary\">\n                    Configure your API keys to access real-time financial data.\n                  </p>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2\">\n                        Alpha Vantage API Key\n                      </label>\n                      <input\n                        type=\"password\"\n                        placeholder=\"Enter your Alpha Vantage API key\"\n                        className=\"w-full px-4 py-3 bg-secondary border border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent transition-colors\"\n                        onChange={(e) => {\n                          if (e.target.value) {\n                            dataFetcherRef.current.setApiKey(e.target.value, 'alphavantage');\n                          }\n                        }}\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        Get your free API key at <a href=\"https://www.alphavantage.co\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-accent-primary hover:underline\">alphavantage.co</a>\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2\">\n                        Polygon API Key\n                      </label>\n                      <input\n                        type=\"password\"\n                        placeholder=\"Enter your Polygon API key\"\n                        className=\"w-full px-4 py-3 bg-secondary border border-light rounded-xl focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent transition-colors\"\n                        onChange={(e) => {\n                          if (e.target.value) {\n                            dataFetcherRef.current.setApiKey(e.target.value, 'polygon');\n                          }\n                        }}\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        Get your free API key at <a href=\"https://polygon.io\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-accent-primary hover:underline\">polygon.io</a>\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Simulation Settings */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-primary\">Advanced Simulation</h3>\n                  <p className=\"text-sm text-secondary\">\n                    Fine-tune the Monte Carlo simulation parameters for more accurate results.\n                  </p>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\">\n                        Alpha (): {simulationParams.alpha}\n                        <InfoIcon content=\"Controls how quickly volatility changes persist. Higher values mean volatility changes last longer.\" />\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.01\"\n                        max=\"0.3\"\n                        step=\"0.01\"\n                        value={simulationParams.alpha}\n                        onChange={(e) => updateSimulationParam('alpha', parseFloat(e.target.value))}\n                        className=\"w-full bg-secondary border border-light rounded-lg\"\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        GARCH volatility persistence parameter\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\">\n                        Beta (): {simulationParams.beta}\n                        <InfoIcon content=\"Controls how much past volatility affects future volatility. Higher values create more clustering of volatility.\" />\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.5\"\n                        max=\"0.95\"\n                        step=\"0.01\"\n                        value={simulationParams.beta}\n                        onChange={(e) => updateSimulationParam('beta', parseFloat(e.target.value))}\n                        className=\"w-full bg-secondary border border-light rounded-lg\"\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        GARCH volatility clustering parameter\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\">\n                        Theta (): {simulationParams.theta}\n                        <InfoIcon content=\"Controls how strongly prices tend to revert to their long-term average. Higher values mean stronger mean reversion.\" />\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.01\"\n                        max=\"0.2\"\n                        step=\"0.01\"\n                        value={simulationParams.theta}\n                        onChange={(e) => updateSimulationParam('theta', parseFloat(e.target.value))}\n                        className=\"w-full bg-secondary border border-light rounded-lg\"\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        Mean reversion strength\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\">\n                        Regime Switch: {(simulationParams.switchProb * 100).toFixed(1)}%\n                        <InfoIcon content=\"Probability of switching between bull and bear market regimes. Higher values create more dramatic market shifts.\" />\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"0.01\"\n                        max=\"0.2\"\n                        step=\"0.01\"\n                        value={simulationParams.switchProb}\n                        onChange={(e) => updateSimulationParam('switchProb', parseFloat(e.target.value))}\n                        className=\"w-full bg-secondary border border-light rounded-lg\"\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        Market regime change probability\n                      </p>\n                    </div>\n\n                    <div>\n                      <label className=\"block text-sm font-medium text-primary mb-2 flex items-center gap-2\">\n                        Number of Paths: {simulationParams.numPaths}\n                        <InfoIcon content=\"Number of simulated price paths. More paths provide more accurate results but take longer to compute.\" />\n                      </label>\n                      <input\n                        type=\"range\"\n                        min=\"100\"\n                        max=\"5000\"\n                        step=\"100\"\n                        value={simulationParams.numPaths}\n                        onChange={(e) => updateSimulationParam('numPaths', parseInt(e.target.value))}\n                        className=\"w-full bg-secondary border border-light rounded-lg\"\n                      />\n                      <p className=\"text-xs text-tertiary mt-1\">\n                        More paths = more accurate results (slower computation)\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Display Settings */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-primary\">Display</h3>\n                  <div className=\"space-y-3\">\n                    <label className=\"flex items-center space-x-3\">\n                      <input type=\"checkbox\" className=\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\" />\n                      <span className=\"text-sm text-primary\">Show loading animations</span>\n                    </label>\n                    <label className=\"flex items-center space-x-3\">\n                      <input type=\"checkbox\" className=\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\" defaultChecked />\n                      <span className=\"text-sm text-primary\">Auto-refresh data</span>\n                    </label>\n                    <label className=\"flex items-center space-x-3\">\n                      <input type=\"checkbox\" className=\"w-4 h-4 text-accent-primary rounded focus:ring-accent-primary\" defaultChecked />\n                      <span className=\"text-sm text-primary\">Show tooltips</span>\n                    </label>\n                  </div>\n                </div>\n\n                {/* Data Management */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-primary\">Data Management</h3>\n                  <div className=\"space-y-3\">\n                    <button className=\"w-full px-4 py-3 text-center text-sm font-bold bg-red-500 text-white hover:bg-red-600 rounded-xl transition-colors\">\n                      Clear all cached data\n                    </button>\n                    <button className=\"w-full px-4 py-3 text-center text-sm font-bold bg-red-500 text-white hover:bg-red-600 rounded-xl transition-colors\">\n                      Clear API keys\n                    </button>\n                  </div>\n                </div>\n              </div>\n\n              {/* Footer */}\n              <div className=\"p-6 border-t border-light\">\n                <button\n                  onClick={() => setSettingsOpen(false)}\n                  className=\"w-full px-6 py-3 bg-accent-primary text-white font-medium rounded-xl hover:bg-accent-secondary transition-all duration-200 shadow-lg\"\n                >\n                  Done\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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B,CAAC,CAAC,CAE5B;AACA,KAAM,CAAAQ,UAAU,CAAG;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,CAED,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACF,UAAU,CAAC,CAAE,CAAEG,IAAI,CAAE,wBAAyB,CAAC,CAAC,CACvE7B,SAAS,CAACQ,OAAO,CAAG,GAAI,CAAAsB,MAAM,CAACC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CAAC,CAEzD3B,SAAS,CAACQ,OAAO,CAACyB,SAAS,CAAIC,CAAC,EAAK,CACnC,GAAIA,CAAC,CAACxB,IAAI,CAACyB,OAAO,CAAE,CAClBvE,kBAAkB,CAACsE,CAAC,CAACxB,IAAI,CAAC0B,MAAM,C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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}