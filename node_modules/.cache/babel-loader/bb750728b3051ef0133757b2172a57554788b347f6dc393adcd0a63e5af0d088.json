{"ast":null,"code":"import React,{useMemo}from'react';import{LineChart,Line,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer,ComposedChart,ReferenceLine}from'recharts';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ImprovedTechnicalChart=_ref=>{let{prices,indicators}=_ref;const chartData=useMemo(()=>{return prices.map((price,index)=>({date:price.date.toISOString().split('T')[0],rsi:indicators.rsi[index]||50,macd:indicators.macd.macd[index]||0,signal:indicators.macd.signal[index]||0,histogram:indicators.macd.histogram[index]||0}));},[prices,indicators]);const CustomTooltip=_ref2=>{let{active,payload,label}=_ref2;if(active&&payload&&payload.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-lg p-4 shadow-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900 mb-2\",children:label}),payload.map((entry,index)=>{var _entry$value;return/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",style:{color:entry.color},children:[entry.name,\": \",(_entry$value=entry.value)===null||_entry$value===void 0?void 0:_entry$value.toFixed(2)]},index);})]});}return null;};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-64\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"RSI (Relative Strength Index)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#e5e7eb\",opacity:0.3}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",stroke:\"#6b7280\",fontSize:12}),/*#__PURE__*/_jsx(YAxis,{domain:[0,100],stroke:\"#6b7280\",fontSize:12,tickFormatter:value=>`${value}%`}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(ReferenceLine,{y:70,stroke:\"#dc2626\",strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(ReferenceLine,{y:30,stroke:\"#059669\",strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"rsi\",stroke:\"#7c3aed\",strokeWidth:3,dot:false,name:\"RSI\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-64\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4\",children:\"MACD (Moving Average Convergence Divergence)\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(ComposedChart,{data:chartData,margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"#e5e7eb\",opacity:0.3}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",stroke:\"#6b7280\",fontSize:12}),/*#__PURE__*/_jsx(YAxis,{stroke:\"#6b7280\",fontSize:12}),/*#__PURE__*/_jsx(Tooltip,{content:/*#__PURE__*/_jsx(CustomTooltip,{})}),/*#__PURE__*/_jsx(ReferenceLine,{y:0,stroke:\"#6b7280\",strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"macd\",stroke:\"#2563eb\",strokeWidth:3,dot:false,name:\"MACD\"}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"signal\",stroke:\"#ea580c\",strokeWidth:3,dot:false,name:\"Signal\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"histogram\",fill:\"#7c3aed\",opacity:0.8,name:\"Histogram\"})]})})]})]});};","map":{"version":3,"names":["React","useMemo","LineChart","Line","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","ComposedChart","ReferenceLine","jsx","_jsx","jsxs","_jsxs","ImprovedTechnicalChart","_ref","prices","indicators","chartData","map","price","index","date","toISOString","split","rsi","macd","signal","histogram","CustomTooltip","_ref2","active","payload","label","length","className","children","entry","_entry$value","style","color","name","value","toFixed","width","height","data","margin","top","right","left","bottom","strokeDasharray","stroke","opacity","dataKey","fontSize","domain","tickFormatter","content","y","type","strokeWidth","dot","fill"],"sources":["/Users/slongo/Documents/simone_misc/stock_widget/src/ImprovedCharts.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  ComposedChart,\n  ReferenceLine\n} from 'recharts';\nimport { PricePoint, TechnicalIndicators, RecommendationAnalysis } from './types';\n\ninterface ImprovedTechnicalChartProps {\n  prices: PricePoint[];\n  indicators: TechnicalIndicators;\n}\n\nexport const ImprovedTechnicalChart: React.FC<ImprovedTechnicalChartProps> = ({\n  prices,\n  indicators\n}) => {\n  const chartData = useMemo(() => {\n    return prices.map((price, index) => ({\n      date: price.date.toISOString().split('T')[0],\n      rsi: indicators.rsi[index] || 50,\n      macd: indicators.macd.macd[index] || 0,\n      signal: indicators.macd.signal[index] || 0,\n      histogram: indicators.macd.histogram[index] || 0,\n    }));\n  }, [prices, indicators]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-lg p-4 shadow-lg\">\n          <p className=\"font-semibold text-gray-900 mb-2\">{label}</p>\n          {payload.map((entry: any, index: number) => (\n            <p key={index} className=\"text-sm\" style={{ color: entry.color }}>\n              {entry.name}: {entry.value?.toFixed(2)}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"space-y-8\">\n      {/* RSI Chart */}\n      <div className=\"h-64\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">RSI (Relative Strength Index)</h3>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <LineChart data={chartData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" opacity={0.3} />\n            <XAxis dataKey=\"date\" stroke=\"#6b7280\" fontSize={12} />\n            <YAxis \n              domain={[0, 100]} \n              stroke=\"#6b7280\" \n              fontSize={12}\n              tickFormatter={(value) => `${value}%`}\n            />\n            <Tooltip content={<CustomTooltip />} />\n            <ReferenceLine y={70} stroke=\"#dc2626\" strokeDasharray=\"3 3\" />\n            <ReferenceLine y={30} stroke=\"#059669\" strokeDasharray=\"3 3\" />\n            <Line\n              type=\"monotone\"\n              dataKey=\"rsi\"\n              stroke=\"#7c3aed\"\n              strokeWidth={3}\n              dot={false}\n              name=\"RSI\"\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* MACD Chart */}\n      <div className=\"h-64\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">MACD (Moving Average Convergence Divergence)</h3>\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <ComposedChart data={chartData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" opacity={0.3} />\n            <XAxis dataKey=\"date\" stroke=\"#6b7280\" fontSize={12} />\n            <YAxis stroke=\"#6b7280\" fontSize={12} />\n            <Tooltip content={<CustomTooltip />} />\n            <ReferenceLine y={0} stroke=\"#6b7280\" strokeDasharray=\"3 3\" />\n            <Line\n              type=\"monotone\"\n              dataKey=\"macd\"\n              stroke=\"#2563eb\"\n              strokeWidth={3}\n              dot={false}\n              name=\"MACD\"\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"signal\"\n              stroke=\"#ea580c\"\n              strokeWidth={3}\n              dot={false}\n              name=\"Signal\"\n            />\n            <Bar\n              dataKey=\"histogram\"\n              fill=\"#7c3aed\"\n              opacity={0.8}\n              name=\"Histogram\"\n            />\n          </ComposedChart>\n        </ResponsiveContainer>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}