{"ast":null,"code":"// src/EnhancedCharts.tsx\nimport React,{useEffect,useRef,useState}from'react';// Declare Plotly as global\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const EnhancedHistoricalChart=_ref=>{let{prices,indicators,trend,isDarkMode,showIndicators}=_ref;const chartRef=useRef(null);useEffect(()=>{if(!chartRef.current||prices.length===0||!window.Plotly)return;const dates=prices.map(p=>p.date.toISOString().split('T')[0]);const closes=prices.map(p=>p.close);const opens=prices.map(p=>p.open);const highs=prices.map(p=>p.high);const lows=prices.map(p=>p.low);const traces=[];// Main candlestick chart\ntraces.push({x:dates,open:opens,high:highs,low:lows,close:closes,type:'candlestick',name:'Price',increasing:{line:{color:'#00ff88'}},decreasing:{line:{color:'#ff4444'}}});// Trend line\nconst trendLine=Array.from({length:prices.length},(_,i)=>{const progress=i/(prices.length-1);return closes[0]+(trend-closes[0])*progress;});traces.push({x:dates,y:trendLine,type:'scatter',mode:'lines',name:'Trend',line:{color:'#ffa500',width:2,dash:'dash'}});// Bollinger Bands\nif(showIndicators.bollingerBands){traces.push({x:dates,y:indicators.bollingerBands.upper,type:'scatter',mode:'lines',name:'Upper BB',line:{color:'rgba(255, 193, 7, 0.6)',width:1},showlegend:true});traces.push({x:dates,y:indicators.bollingerBands.middle,type:'scatter',mode:'lines',name:'Middle BB',line:{color:'rgba(255, 193, 7, 0.8)',width:1},showlegend:true});traces.push({x:dates,y:indicators.bollingerBands.lower,type:'scatter',mode:'lines',name:'Lower BB',line:{color:'rgba(255, 193, 7, 0.6)',width:1},showlegend:true});}// Moving Averages\nif(showIndicators.movingAverages){traces.push({x:dates,y:indicators.movingAverages.sma20,type:'scatter',mode:'lines',name:'20-day SMA',line:{color:'#2196F3',width:2},showlegend:true});traces.push({x:dates,y:indicators.movingAverages.sma50,type:'scatter',mode:'lines',name:'50-day SMA',line:{color:'#9C27B0',width:2},showlegend:true});}const layout={title:{text:'Historical Price with Technical Indicators',font:{size:18,color:isDarkMode?'white':'black'}},xaxis:{title:'Date',gridcolor:isDarkMode?'#444':'#ddd'},yaxis:{title:'Price ($)',gridcolor:isDarkMode?'#444':'#ddd'},paper_bgcolor:isDarkMode?'#1a1a1a':'white',plot_bgcolor:isDarkMode?'#2d2d2d':'white',font:{color:isDarkMode?'white':'black'},legend:{x:0.02,y:0.98,bgcolor:isDarkMode?'rgba(45, 45, 45, 0.8)':'rgba(255, 255, 255, 0.8)',bordercolor:isDarkMode?'#666':'#ccc'},hovermode:'x unified'};window.Plotly.newPlot(chartRef.current,traces,layout);},[prices,indicators,trend,isDarkMode,showIndicators]);return/*#__PURE__*/_jsx(\"div\",{ref:chartRef,className:\"w-full h-96\"});};export const TechnicalIndicatorsChart=_ref2=>{let{prices,indicators,isDarkMode}=_ref2;const chartRef=useRef(null);useEffect(()=>{if(!chartRef.current||prices.length===0||!window.Plotly)return;const dates=prices.map(p=>p.date.toISOString().split('T')[0]);// Create subplots for different indicators\nconst traces=[];// RSI\ntraces.push({x:dates,y:indicators.rsi,type:'scatter',mode:'lines',name:'RSI',line:{color:'#FF6B6B',width:2},yaxis:'y'});// RSI overbought/oversold lines\ntraces.push({x:[dates[0],dates[dates.length-1]],y:[70,70],type:'scatter',mode:'lines',name:'Overbought (70)',line:{color:'#FF6B6B',width:1,dash:'dash'},yaxis:'y',showlegend:false});traces.push({x:[dates[0],dates[dates.length-1]],y:[30,30],type:'scatter',mode:'lines',name:'Oversold (30)',line:{color:'#FF6B6B',width:1,dash:'dash'},yaxis:'y',showlegend:false});// MACD\ntraces.push({x:dates,y:indicators.macd.macd,type:'scatter',mode:'lines',name:'MACD',line:{color:'#4ECDC4',width:2},yaxis:'y2'});traces.push({x:dates,y:indicators.macd.signal,type:'scatter',mode:'lines',name:'Signal',line:{color:'#FFE66D',width:2},yaxis:'y2'});// MACD Histogram\ntraces.push({x:dates,y:indicators.macd.histogram,type:'bar',name:'MACD Histogram',marker:{color:indicators.macd.histogram.map(h=>h>=0?'rgba(78, 205, 196, 0.6)':'rgba(255, 230, 109, 0.6)')},yaxis:'y3'});const layout={title:{text:'Technical Indicators',font:{size:18,color:isDarkMode?'white':'black'}},grid:{rows:3,columns:1,subplots:[['xy'],['xy2'],['xy3']],rowheight:[0.4,0.3,0.3]},xaxis:{title:'Date',gridcolor:isDarkMode?'#444':'#ddd'},yaxis:{title:'RSI',domain:[0.7,1],range:[0,100],gridcolor:isDarkMode?'#444':'#ddd'},yaxis2:{title:'MACD',domain:[0.4,0.7],gridcolor:isDarkMode?'#444':'#ddd'},yaxis3:{title:'MACD Histogram',domain:[0,0.4],gridcolor:isDarkMode?'#444':'#ddd'},paper_bgcolor:isDarkMode?'#1a1a1a':'white',plot_bgcolor:isDarkMode?'#2d2d2d':'white',font:{color:isDarkMode?'white':'black'},showlegend:true,legend:{x:0.02,y:0.98,bgcolor:isDarkMode?'rgba(45, 45, 45, 0.8)':'rgba(255, 255, 255, 0.8)',bordercolor:isDarkMode?'#666':'#ccc'}};window.Plotly.newPlot(chartRef.current,traces,layout);},[prices,indicators,isDarkMode]);return/*#__PURE__*/_jsx(\"div\",{ref:chartRef,className:\"w-full h-96\"});};export const RecommendationsChart=_ref3=>{let{recommendations,currentPrice,isDarkMode}=_ref3;const chartRef=useRef(null);useEffect(()=>{if(!chartRef.current||!window.Plotly)return;const categories=['Technical','Fundamental','Risk','Overall'];const confidences=[recommendations.technical.confidence,recommendations.fundamental.confidence,recommendations.risk.confidence,recommendations.overall.confidence];const colors=confidences.map(conf=>{const rec=confidences.indexOf(conf)===3?recommendations.overall:confidences.indexOf(conf)===0?recommendations.technical:confidences.indexOf(conf)===1?recommendations.fundamental:recommendations.risk;if(rec.action==='BUY')return'#00ff88';if(rec.action==='SELL')return'#ff4444';return'#ffa500';});const traces=[{x:categories,y:confidences,type:'bar',marker:{color:colors,line:{color:isDarkMode?'#666':'#ccc',width:1}},text:confidences.map(c=>c+'%'),textposition:'auto',textfont:{color:isDarkMode?'white':'black'}}];const layout={title:{text:'Recommendation Confidence by Category',font:{size:18,color:isDarkMode?'white':'black'}},xaxis:{title:'Analysis Category',gridcolor:isDarkMode?'#444':'#ddd'},yaxis:{title:'Confidence (%)',range:[0,100],gridcolor:isDarkMode?'#444':'#ddd'},paper_bgcolor:isDarkMode?'#1a1a1a':'white',plot_bgcolor:isDarkMode?'#2d2d2d':'white',font:{color:isDarkMode?'white':'black'}};window.Plotly.newPlot(chartRef.current,traces,layout);},[recommendations,currentPrice,isDarkMode]);return/*#__PURE__*/_jsx(\"div\",{ref:chartRef,className:\"w-full h-96\"});};export const EducationalMetrics=_ref4=>{var _fundamentals$pe;let{prices,indicators,fundamentals,recommendations,currentPrice}=_ref4;const[selectedMetric,setSelectedMetric]=useState(null);const metrics=[{name:'RSI (Relative Strength Index)',value:indicators.rsi[indicators.rsi.length-1].toFixed(1),description:'Measures the speed and magnitude of price changes to identify overbought or oversold conditions.',interpretation:indicators.rsi[indicators.rsi.length-1]<30?'Oversold - potential buying opportunity':indicators.rsi[indicators.rsi.length-1]>70?'Overbought - potential selling opportunity':'Neutral - no clear signal',threshold:{low:30,high:70,optimal:50},isGood:indicators.rsi[indicators.rsi.length-1]<30?true:indicators.rsi[indicators.rsi.length-1]>70?false:null,category:'TECHNICAL'},{name:'P/E Ratio',value:((_fundamentals$pe=fundamentals.pe)===null||_fundamentals$pe===void 0?void 0:_fundamentals$pe.toFixed(1))||'N/A',description:'Price-to-Earnings ratio compares a company\\'s stock price to its earnings per share.',interpretation:fundamentals.pe?fundamentals.pe<15?'Undervalued - potentially good buying opportunity':fundamentals.pe>25?'Overvalued - consider selling or waiting':'Fairly valued - neutral':'No data available',threshold:{low:15,high:25,optimal:20},isGood:fundamentals.pe?fundamentals.pe<15?true:fundamentals.pe>25?false:null:null,category:'FUNDAMENTAL'},{name:'Volatility',value:(()=>{const returns=[];for(let i=1;i<Math.min(20,prices.length);i++){returns.push(Math.log(prices[prices.length-i].close/prices[prices.length-i-1].close));}const mean=returns.reduce((sum,ret)=>sum+ret,0)/returns.length;const variance=returns.reduce((sum,ret)=>sum+Math.pow(ret-mean,2),0)/returns.length;return(Math.sqrt(variance*252)*100).toFixed(1)+'%';})(),description:'Annualized volatility measures the degree of price variation over time.',interpretation:'Lower volatility indicates more stable price movement, while higher volatility suggests greater risk and potential reward.',threshold:{low:15,high:30,optimal:20},isGood:null,category:'RISK'},{name:'MACD Signal',value:indicators.macd.macd[indicators.macd.macd.length-1]>indicators.macd.signal[indicators.macd.signal.length-1]?'Bullish':'Bearish',description:'Moving Average Convergence Divergence compares two moving averages to identify momentum changes.',interpretation:indicators.macd.macd[indicators.macd.macd.length-1]>indicators.macd.signal[indicators.macd.signal.length-1]?'MACD above signal line indicates upward momentum':'MACD below signal line indicates downward momentum',threshold:{low:0,high:0,optimal:0},isGood:indicators.macd.macd[indicators.macd.macd.length-1]>indicators.macd.signal[indicators.macd.signal.length-1],category:'TECHNICAL'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold text-slate-900\",children:\"Key Metrics Explained\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:metrics.map(metric=>/*#__PURE__*/_jsxs(\"div\",{className:`p-6 rounded-2xl border-2 transition-all duration-200 cursor-pointer ${selectedMetric===metric.name?'border-blue-500 bg-blue-50':metric.isGood===true?'border-green-200 bg-green-50':metric.isGood===false?'border-red-200 bg-red-50':'border-slate-200 bg-white'}`,onClick:()=>setSelectedMetric(selectedMetric===metric.name?null:metric.name),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-slate-900\",children:metric.name}),/*#__PURE__*/_jsx(\"div\",{className:`px-3 py-1 rounded-full text-sm font-medium ${metric.isGood===true?'bg-green-100 text-green-800':metric.isGood===false?'bg-red-100 text-red-800':'bg-slate-100 text-slate-800'}`,children:metric.value})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-600 mb-3\",children:metric.description}),selectedMetric===metric.name&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-slate-50 rounded-xl\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-slate-700 mb-2\",children:\"Interpretation:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-600\",children:metric.interpretation}),metric.threshold.optimal>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 mb-1\",children:\"Thresholds:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 text-xs\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-600\",children:[\"Low: \",metric.threshold.low]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-blue-600\",children:[\"Optimal: \",metric.threshold.optimal]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600\",children:[\"High: \",metric.threshold.high]})]})]})]})]},metric.name))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-lg font-semibold text-slate-900 mb-3\",children:\"Overall Recommendation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`px-4 py-2 rounded-full text-white font-semibold ${recommendations.overall.action==='BUY'?'bg-green-500':recommendations.overall.action==='SELL'?'bg-red-500':'bg-yellow-500'}`,children:recommendations.overall.action}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-slate-900\",children:[recommendations.overall.confidence,\"% Confidence\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-700\",children:recommendations.summary})]})]});};","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","EnhancedHistoricalChart","_ref","prices","indicators","trend","isDarkMode","showIndicators","chartRef","current","length","window","Plotly","dates","map","p","date","toISOString","split","closes","close","opens","open","highs","high","lows","low","traces","push","x","type","name","increasing","line","color","decreasing","trendLine","Array","from","_","i","progress","y","mode","width","dash","bollingerBands","upper","showlegend","middle","lower","movingAverages","sma20","sma50","layout","title","text","font","size","xaxis","gridcolor","yaxis","paper_bgcolor","plot_bgcolor","legend","bgcolor","bordercolor","hovermode","newPlot","ref","className","TechnicalIndicatorsChart","_ref2","rsi","macd","signal","histogram","marker","h","grid","rows","columns","subplots","rowheight","domain","range","yaxis2","yaxis3","RecommendationsChart","_ref3","recommendations","currentPrice","categories","confidences","technical","confidence","fundamental","risk","overall","colors","conf","rec","indexOf","action","c","textposition","textfont","EducationalMetrics","_ref4","_fundamentals$pe","fundamentals","selectedMetric","setSelectedMetric","metrics","value","toFixed","description","interpretation","threshold","optimal","isGood","category","pe","returns","Math","min","log","mean","reduce","sum","ret","variance","pow","sqrt","children","metric","onClick","summary"],"sources":["/Users/slongo/Documents/simone_misc/stock_widget/src/EnhancedCharts.tsx"],"sourcesContent":["// src/EnhancedCharts.tsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { PricePoint, TechnicalIndicators, RecommendationAnalysis } from './types';\n\n// Declare Plotly as global\ndeclare global {\n  interface Window {\n    Plotly: any;\n  }\n}\n\ninterface EnhancedHistoricalChartProps {\n  prices: PricePoint[];\n  indicators: TechnicalIndicators;\n  trend: number;\n  isDarkMode: boolean;\n  showIndicators: {\n    rsi: boolean;\n    macd: boolean;\n    bollingerBands: boolean;\n    movingAverages: boolean;\n    volume: boolean;\n  };\n}\n\nexport const EnhancedHistoricalChart: React.FC<EnhancedHistoricalChartProps> = ({ \n  prices, indicators, trend, isDarkMode, showIndicators \n}) => {\n  const chartRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current || prices.length === 0 || !window.Plotly) return;\n\n    const dates = prices.map(p => p.date.toISOString().split('T')[0]);\n    const closes = prices.map(p => p.close);\n    const opens = prices.map(p => p.open);\n    const highs = prices.map(p => p.high);\n    const lows = prices.map(p => p.low);\n\n    const traces: any[] = [];\n\n    // Main candlestick chart\n    traces.push({\n      x: dates,\n      open: opens,\n      high: highs,\n      low: lows,\n      close: closes,\n      type: 'candlestick',\n      name: 'Price',\n      increasing: { line: { color: '#00ff88' } },\n      decreasing: { line: { color: '#ff4444' } }\n    });\n\n    // Trend line\n    const trendLine = Array.from({ length: prices.length }, (_, i) => {\n      const progress = i / (prices.length - 1);\n      return closes[0] + (trend - closes[0]) * progress;\n    });\n\n    traces.push({\n      x: dates,\n      y: trendLine,\n      type: 'scatter',\n      mode: 'lines',\n      name: 'Trend',\n      line: { color: '#ffa500', width: 2, dash: 'dash' }\n    });\n\n    // Bollinger Bands\n    if (showIndicators.bollingerBands) {\n      traces.push({\n        x: dates,\n        y: indicators.bollingerBands.upper,\n        type: 'scatter',\n        mode: 'lines',\n        name: 'Upper BB',\n        line: { color: 'rgba(255, 193, 7, 0.6)', width: 1 },\n        showlegend: true\n      });\n\n      traces.push({\n        x: dates,\n        y: indicators.bollingerBands.middle,\n        type: 'scatter',\n        mode: 'lines',\n        name: 'Middle BB',\n        line: { color: 'rgba(255, 193, 7, 0.8)', width: 1 },\n        showlegend: true\n      });\n\n      traces.push({\n        x: dates,\n        y: indicators.bollingerBands.lower,\n        type: 'scatter',\n        mode: 'lines',\n        name: 'Lower BB',\n        line: { color: 'rgba(255, 193, 7, 0.6)', width: 1 },\n        showlegend: true\n      });\n    }\n\n    // Moving Averages\n    if (showIndicators.movingAverages) {\n      traces.push({\n        x: dates,\n        y: indicators.movingAverages.sma20,\n        type: 'scatter',\n        mode: 'lines',\n        name: '20-day SMA',\n        line: { color: '#2196F3', width: 2 },\n        showlegend: true\n      });\n\n      traces.push({\n        x: dates,\n        y: indicators.movingAverages.sma50,\n        type: 'scatter',\n        mode: 'lines',\n        name: '50-day SMA',\n        line: { color: '#9C27B0', width: 2 },\n        showlegend: true\n      });\n    }\n\n    const layout = {\n      title: {\n        text: 'Historical Price with Technical Indicators',\n        font: { size: 18, color: isDarkMode ? 'white' : 'black' }\n      },\n      xaxis: { \n        title: 'Date',\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      yaxis: { \n        title: 'Price ($)',\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      paper_bgcolor: isDarkMode ? '#1a1a1a' : 'white',\n      plot_bgcolor: isDarkMode ? '#2d2d2d' : 'white',\n      font: { color: isDarkMode ? 'white' : 'black' },\n      legend: {\n        x: 0.02,\n        y: 0.98,\n        bgcolor: isDarkMode ? 'rgba(45, 45, 45, 0.8)' : 'rgba(255, 255, 255, 0.8)',\n        bordercolor: isDarkMode ? '#666' : '#ccc'\n      },\n      hovermode: 'x unified'\n    };\n\n    window.Plotly.newPlot(chartRef.current, traces, layout);\n  }, [prices, indicators, trend, isDarkMode, showIndicators]);\n\n  return <div ref={chartRef} className=\"w-full h-96\" />;\n};\n\ninterface TechnicalIndicatorsChartProps {\n  prices: PricePoint[];\n  indicators: TechnicalIndicators;\n  isDarkMode: boolean;\n}\n\nexport const TechnicalIndicatorsChart: React.FC<TechnicalIndicatorsChartProps> = ({ \n  prices, indicators, isDarkMode \n}) => {\n  const chartRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current || prices.length === 0 || !window.Plotly) return;\n\n    const dates = prices.map(p => p.date.toISOString().split('T')[0]);\n\n    // Create subplots for different indicators\n    const traces: any[] = [];\n\n    // RSI\n    traces.push({\n      x: dates,\n      y: indicators.rsi,\n      type: 'scatter',\n      mode: 'lines',\n      name: 'RSI',\n      line: { color: '#FF6B6B', width: 2 },\n      yaxis: 'y'\n    });\n\n    // RSI overbought/oversold lines\n    traces.push({\n      x: [dates[0], dates[dates.length - 1]],\n      y: [70, 70],\n      type: 'scatter',\n      mode: 'lines',\n      name: 'Overbought (70)',\n      line: { color: '#FF6B6B', width: 1, dash: 'dash' },\n      yaxis: 'y',\n      showlegend: false\n    });\n\n    traces.push({\n      x: [dates[0], dates[dates.length - 1]],\n      y: [30, 30],\n      type: 'scatter',\n      mode: 'lines',\n      name: 'Oversold (30)',\n      line: { color: '#FF6B6B', width: 1, dash: 'dash' },\n      yaxis: 'y',\n      showlegend: false\n    });\n\n    // MACD\n    traces.push({\n      x: dates,\n      y: indicators.macd.macd,\n      type: 'scatter',\n      mode: 'lines',\n      name: 'MACD',\n      line: { color: '#4ECDC4', width: 2 },\n      yaxis: 'y2'\n    });\n\n    traces.push({\n      x: dates,\n      y: indicators.macd.signal,\n      type: 'scatter',\n      mode: 'lines',\n      name: 'Signal',\n      line: { color: '#FFE66D', width: 2 },\n      yaxis: 'y2'\n    });\n\n    // MACD Histogram\n    traces.push({\n      x: dates,\n      y: indicators.macd.histogram,\n      type: 'bar',\n      name: 'MACD Histogram',\n      marker: {\n        color: indicators.macd.histogram.map(h => h >= 0 ? 'rgba(78, 205, 196, 0.6)' : 'rgba(255, 230, 109, 0.6)')\n      },\n      yaxis: 'y3'\n    });\n\n    const layout = {\n      title: {\n        text: 'Technical Indicators',\n        font: { size: 18, color: isDarkMode ? 'white' : 'black' }\n      },\n      grid: {\n        rows: 3,\n        columns: 1,\n        subplots: [['xy'], ['xy2'], ['xy3']],\n        rowheight: [0.4, 0.3, 0.3]\n      },\n      xaxis: { \n        title: 'Date',\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      yaxis: { \n        title: 'RSI',\n        domain: [0.7, 1],\n        range: [0, 100],\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      yaxis2: { \n        title: 'MACD',\n        domain: [0.4, 0.7],\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      yaxis3: { \n        title: 'MACD Histogram',\n        domain: [0, 0.4],\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      paper_bgcolor: isDarkMode ? '#1a1a1a' : 'white',\n      plot_bgcolor: isDarkMode ? '#2d2d2d' : 'white',\n      font: { color: isDarkMode ? 'white' : 'black' },\n      showlegend: true,\n      legend: {\n        x: 0.02,\n        y: 0.98,\n        bgcolor: isDarkMode ? 'rgba(45, 45, 45, 0.8)' : 'rgba(255, 255, 255, 0.8)',\n        bordercolor: isDarkMode ? '#666' : '#ccc'\n      }\n    };\n\n    window.Plotly.newPlot(chartRef.current, traces, layout);\n  }, [prices, indicators, isDarkMode]);\n\n  return <div ref={chartRef} className=\"w-full h-96\" />;\n};\n\ninterface RecommendationsChartProps {\n  recommendations: RecommendationAnalysis;\n  currentPrice: number;\n  isDarkMode: boolean;\n}\n\nexport const RecommendationsChart: React.FC<RecommendationsChartProps> = ({ \n  recommendations, currentPrice, isDarkMode \n}) => {\n  const chartRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!chartRef.current || !window.Plotly) return;\n\n    const categories = ['Technical', 'Fundamental', 'Risk', 'Overall'];\n    const confidences = [\n      recommendations.technical.confidence,\n      recommendations.fundamental.confidence,\n      recommendations.risk.confidence,\n      recommendations.overall.confidence\n    ];\n\n    const colors = confidences.map(conf => {\n      const rec = confidences.indexOf(conf) === 3 ? recommendations.overall : \n                  confidences.indexOf(conf) === 0 ? recommendations.technical :\n                  confidences.indexOf(conf) === 1 ? recommendations.fundamental :\n                  recommendations.risk;\n      \n      if (rec.action === 'BUY') return '#00ff88';\n      if (rec.action === 'SELL') return '#ff4444';\n      return '#ffa500';\n    });\n\n    const traces = [{\n      x: categories,\n      y: confidences,\n      type: 'bar',\n      marker: {\n        color: colors,\n        line: {\n          color: isDarkMode ? '#666' : '#ccc',\n          width: 1\n        }\n      },\n      text: confidences.map(c => c + '%'),\n      textposition: 'auto',\n      textfont: {\n        color: isDarkMode ? 'white' : 'black'\n      }\n    }];\n\n    const layout = {\n      title: {\n        text: 'Recommendation Confidence by Category',\n        font: { size: 18, color: isDarkMode ? 'white' : 'black' }\n      },\n      xaxis: { \n        title: 'Analysis Category',\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      yaxis: { \n        title: 'Confidence (%)',\n        range: [0, 100],\n        gridcolor: isDarkMode ? '#444' : '#ddd'\n      },\n      paper_bgcolor: isDarkMode ? '#1a1a1a' : 'white',\n      plot_bgcolor: isDarkMode ? '#2d2d2d' : 'white',\n      font: { color: isDarkMode ? 'white' : 'black' }\n    };\n\n    window.Plotly.newPlot(chartRef.current, traces, layout);\n  }, [recommendations, currentPrice, isDarkMode]);\n\n  return <div ref={chartRef} className=\"w-full h-96\" />;\n};\n\ninterface EducationalMetricsProps {\n  prices: PricePoint[];\n  indicators: TechnicalIndicators;\n  fundamentals: any;\n  recommendations: RecommendationAnalysis;\n  currentPrice: number;\n}\n\nexport const EducationalMetrics: React.FC<EducationalMetricsProps> = ({ \n  prices, indicators, fundamentals, recommendations, currentPrice \n}) => {\n  const [selectedMetric, setSelectedMetric] = useState<string | null>(null);\n\n  const metrics = [\n    {\n      name: 'RSI (Relative Strength Index)',\n      value: indicators.rsi[indicators.rsi.length - 1].toFixed(1),\n      description: 'Measures the speed and magnitude of price changes to identify overbought or oversold conditions.',\n      interpretation: indicators.rsi[indicators.rsi.length - 1] < 30 ? 'Oversold - potential buying opportunity' :\n                     indicators.rsi[indicators.rsi.length - 1] > 70 ? 'Overbought - potential selling opportunity' :\n                     'Neutral - no clear signal',\n      threshold: { low: 30, high: 70, optimal: 50 },\n      isGood: indicators.rsi[indicators.rsi.length - 1] < 30 ? true : \n              indicators.rsi[indicators.rsi.length - 1] > 70 ? false : null,\n      category: 'TECHNICAL' as const\n    },\n    {\n      name: 'P/E Ratio',\n      value: fundamentals.pe?.toFixed(1) || 'N/A',\n      description: 'Price-to-Earnings ratio compares a company\\'s stock price to its earnings per share.',\n      interpretation: fundamentals.pe ? \n        (fundamentals.pe < 15 ? 'Undervalued - potentially good buying opportunity' :\n         fundamentals.pe > 25 ? 'Overvalued - consider selling or waiting' :\n         'Fairly valued - neutral') : 'No data available',\n      threshold: { low: 15, high: 25, optimal: 20 },\n      isGood: fundamentals.pe ? (fundamentals.pe < 15 ? true : fundamentals.pe > 25 ? false : null) : null,\n      category: 'FUNDAMENTAL' as const\n    },\n         {\n       name: 'Volatility',\n       value: (() => {\n         const returns = [];\n         for (let i = 1; i < Math.min(20, prices.length); i++) {\n           returns.push(Math.log(prices[prices.length - i].close / prices[prices.length - i - 1].close));\n         }\n         const mean = returns.reduce((sum, ret) => sum + ret, 0) / returns.length;\n         const variance = returns.reduce((sum, ret) => sum + Math.pow(ret - mean, 2), 0) / returns.length;\n         return (Math.sqrt(variance * 252) * 100).toFixed(1) + '%';\n       })(),\n      description: 'Annualized volatility measures the degree of price variation over time.',\n      interpretation: 'Lower volatility indicates more stable price movement, while higher volatility suggests greater risk and potential reward.',\n      threshold: { low: 15, high: 30, optimal: 20 },\n      isGood: null,\n      category: 'RISK' as const\n    },\n    {\n      name: 'MACD Signal',\n      value: indicators.macd.macd[indicators.macd.macd.length - 1] > indicators.macd.signal[indicators.macd.signal.length - 1] ? 'Bullish' : 'Bearish',\n      description: 'Moving Average Convergence Divergence compares two moving averages to identify momentum changes.',\n      interpretation: indicators.macd.macd[indicators.macd.macd.length - 1] > indicators.macd.signal[indicators.macd.signal.length - 1] ?\n        'MACD above signal line indicates upward momentum' :\n        'MACD below signal line indicates downward momentum',\n      threshold: { low: 0, high: 0, optimal: 0 },\n      isGood: indicators.macd.macd[indicators.macd.macd.length - 1] > indicators.macd.signal[indicators.macd.signal.length - 1],\n      category: 'TECHNICAL' as const\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-2xl font-bold text-slate-900\">Key Metrics Explained</h3>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {metrics.map((metric) => (\n          <div\n            key={metric.name}\n            className={`p-6 rounded-2xl border-2 transition-all duration-200 cursor-pointer ${\n              selectedMetric === metric.name\n                ? 'border-blue-500 bg-blue-50'\n                : metric.isGood === true\n                ? 'border-green-200 bg-green-50'\n                : metric.isGood === false\n                ? 'border-red-200 bg-red-50'\n                : 'border-slate-200 bg-white'\n            }`}\n            onClick={() => setSelectedMetric(selectedMetric === metric.name ? null : metric.name)}\n          >\n            <div className=\"flex justify-between items-start mb-3\">\n              <h4 className=\"font-semibold text-slate-900\">{metric.name}</h4>\n              <div className={`px-3 py-1 rounded-full text-sm font-medium ${\n                metric.isGood === true ? 'bg-green-100 text-green-800' :\n                metric.isGood === false ? 'bg-red-100 text-red-800' :\n                'bg-slate-100 text-slate-800'\n              }`}>\n                {metric.value}\n              </div>\n            </div>\n            \n            <p className=\"text-sm text-slate-600 mb-3\">{metric.description}</p>\n            \n            {selectedMetric === metric.name && (\n              <div className=\"mt-4 p-4 bg-slate-50 rounded-xl\">\n                <p className=\"text-sm font-medium text-slate-700 mb-2\">Interpretation:</p>\n                <p className=\"text-sm text-slate-600\">{metric.interpretation}</p>\n                \n                {metric.threshold.optimal > 0 && (\n                  <div className=\"mt-3\">\n                    <p className=\"text-xs text-slate-500 mb-1\">Thresholds:</p>\n                    <div className=\"flex space-x-4 text-xs\">\n                      <span className=\"text-green-600\">Low: {metric.threshold.low}</span>\n                      <span className=\"text-blue-600\">Optimal: {metric.threshold.optimal}</span>\n                      <span className=\"text-red-600\">High: {metric.threshold.high}</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      {/* Overall Recommendation Summary */}\n      <div className=\"mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl border border-blue-200\">\n        <h4 className=\"text-lg font-semibold text-slate-900 mb-3\">Overall Recommendation</h4>\n        <div className=\"flex items-center space-x-4 mb-4\">\n          <div className={`px-4 py-2 rounded-full text-white font-semibold ${\n            recommendations.overall.action === 'BUY' ? 'bg-green-500' :\n            recommendations.overall.action === 'SELL' ? 'bg-red-500' :\n            'bg-yellow-500'\n          }`}>\n            {recommendations.overall.action}\n          </div>\n          <div className=\"text-2xl font-bold text-slate-900\">\n            {recommendations.overall.confidence}% Confidence\n          </div>\n        </div>\n        <p className=\"text-slate-700\">{recommendations.summary}</p>\n      </div>\n    </div>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}